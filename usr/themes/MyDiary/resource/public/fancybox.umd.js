// @fancyapps/ui/Fancybox v4.0.31
!function(J,N){"object"==typeof exports&&"undefined"!=typeof module?N(exports):"function"==typeof define&&define.amd?define(["exports"],N):N((J="undefined"!=typeof globalThis?globalThis:J||self).window=J.window||{})}(this,function(J){function N(l,r){var q=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);r&&(d=d.filter(function(a){return Object.getOwnPropertyDescriptor(l,a).enumerable}));q.push.apply(q,d)}return q}function A(l){for(var r=1;r<arguments.length;r++){var q=null!=arguments[r]?arguments[r]:{};r%2?N(Object(q),!0).forEach(function(d){var a=q[d];d in l?Object.defineProperty(l,d,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[d]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(q)):N(Object(q)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(q,d))})}return l}function R(l){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},R(l)}function B(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function");}function ha(l,r){for(var q=0;q<r.length;q++){var d=r[q];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(l,d.key,d)}}function C(l,r,q){return r&&ha(l.prototype,r),q&&ha(l,q),Object.defineProperty(l,"prototype",{writable:!1}),l}function Y(l,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,writable:!0,configurable:!0}});Object.defineProperty(l,"prototype",{writable:!1});r&&Z(l,r)}function O(l){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},O(l)}function Z(l,r){return Z=Object.setPrototypeOf||function(l,d){return l.__proto__=d,l},Z(l,r)}function K(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function aa(l){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q;q=O(l);if(r){var d=O(this).constructor;q=Reflect.construct(q,arguments,d)}else q=q.apply(this,arguments);if(!q||"object"!=typeof q&&"function"!=typeof q){if(void 0!==q)throw new TypeError("Derived constructors may only return object or undefined");q=K(this)}return q}}function ba(){return ba="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(l,r,q){var d;for(d=l;!Object.prototype.hasOwnProperty.call(d,r)&&null!==(d=O(d)););if(d)return d=Object.getOwnPropertyDescriptor(d,r),d.get?d.get.call(3>arguments.length?l:q):d.value},ba.apply(this,arguments)}function L(l,r){var q;if(!(q=function(d){if(Array.isArray(d))return d}(l)||function(d,a){var c=null==d?null:"undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(null!=c){var b,e,f=[],g=!0,k=!1;try{for(c=c.call(d);!(g=(b=c.next()).done)&&(f.push(b.value),!a||f.length!==a);g=!0);}catch(h){k=!0,e=h}finally{try{g||null==c["return"]||c["return"]()}finally{if(k)throw e;}}return f}}(l,r)||ca(l,r)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return q}function u(l){var r;r=Array.isArray(l)?da(l):void 0;r||(r="undefined"!=typeof Symbol&&null!=l[Symbol.iterator]||null!=l["@@iterator"]?Array.from(l):void 0);if(!(l=r||ca(l)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return l}function ca(l,r){if(l){if("string"==typeof l)return da(l,r);var q=Object.prototype.toString.call(l).slice(8,-1);return"Object"===q&&l.constructor&&(q=l.constructor.name),"Map"===q||"Set"===q?Array.from(l):"Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?da(l,r):void 0}}function da(l,r){(null==r||r>l.length)&&(r=l.length);for(var q=0,d=Array(r);q<r;q++)d[q]=l[q];return d}function y(l,r){var q="undefined"!=typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(!q){if(Array.isArray(l)||(q=ca(l))||r&&l&&"number"==typeof l.length){q&&(l=q);var d=0,a=function(){};return{s:a,n:function(){return d>=l.length?{done:!0}:{done:!1,value:l[d++]}},e:function(b){throw b;},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var c,b=!0,e=!1;return{s:function(){q=q.call(l)},n:function(){var a=q.next();return b=a.done,a},e:function(b){e=!0;c=b},f:function(){try{b||null==q["return"]||q["return"]()}finally{if(e)throw c;}}}}var P=function(l){return"object"===R(l)&&null!==l&&l.constructor===Object&&"[object Object]"===Object.prototype.toString.call(l)},D=function r(){for(var q=!1,d=arguments.length,a=Array(d),c=0;c<d;c++)a[c]=arguments[c];"boolean"==typeof a[0]&&(q=a.shift());d=a[0];if(!d||"object"!==R(d))throw Error("extendee must be an object");for(var a=a.slice(1),c=a.length,b=0;b<c;b++){var e=a[b],f;for(f in e)if(e.hasOwnProperty(f)){var g=e[f];if(q&&(Array.isArray(g)||P(g))){var k=Array.isArray(g)?[]:{};d[f]=r(!0,d.hasOwnProperty(f)?d[f]:k,g)}else d[f]=g}}return d},v=function(r){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1E4;return r=parseFloat(r)||0,Math.round((r+Number.EPSILON)*q)/q},ea=function q(d){var a;if(a=!!(d&&"object"===R(d)&&d instanceof Element&&d!==document.body))if(a=!d.__Panzoom){a=getComputedStyle(d)["overflow-y"];var c=getComputedStyle(d)["overflow-x"],c=("scroll"===c||"auto"===c)&&1<Math.abs(d.scrollWidth-d.clientWidth);a=("scroll"===a||"auto"===a)&&1<Math.abs(d.scrollHeight-d.clientHeight)||c?d:q(d.parentNode)}return a},qa="undefined"!=typeof window&&window.ResizeObserver||function(){function q(d){B(this,q);this.observables=[];this.boundCheck=this.check.bind(this);this.boundCheck();this.callback=d}return C(q,[{key:"observe",value:function(d){this.observables.some(function(a){return a.el===d})||this.observables.push({el:d,size:{height:d.clientHeight,width:d.clientWidth}})}},{key:"unobserve",value:function(d){this.observables=this.observables.filter(function(a){return a.el!==d})}},{key:"disconnect",value:function(){this.observables=[]}},{key:"check",value:function(){var d=this.observables.filter(function(a){var c=a.el.clientHeight,b=a.el.clientWidth;if(a.size.height!==c||a.size.width!==b)return a.size.height=c,a.size.width=b,!0}).map(function(a){return a.el});0<d.length&&this.callback(d);window.requestAnimationFrame(this.boundCheck)}}]),q}(),Q=C(function d(a){B(this,d);this.id=self.Touch&&a instanceof Touch?a.identifier:-1;this.pageX=a.pageX;this.pageY=a.pageY;this.clientX=a.clientX;this.clientY=a.clientY}),ia=function(d,a){return a?Math.sqrt(Math.pow(a.clientX-d.clientX,2)+Math.pow(a.clientY-d.clientY,2)):0},fa=function(d,a){return a?{clientX:(d.clientX+a.clientX)/2,clientY:(d.clientY+a.clientY)/2}:d},ra=function(){function d(a){var c=this,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=b.start,e=void 0===e?function(){return!0}:e,f=b.move,f=void 0===f?function(){}:f,b=b.end,b=void 0===b?function(){}:b;B(this,d);this._element=a;this.startPointers=[];this.currentPointers=[];this._pointerStart=function(b){if(!(0<b.buttons&&0!==b.button)){var a=new Q(b);c.currentPointers.some(function(b){return b.id===a.id})||c._triggerPointerStart(a,b)&&(window.addEventListener("mousemove",c._move),window.addEventListener("mouseup",c._pointerEnd))}};this._touchStart=function(b){for(var a=0,e=Array.from(b.changedTouches||[]);a<e.length;a++)c._triggerPointerStart(new Q(e[a]),b)};this._move=function(b){var a,e=c.currentPointers.slice(),f="changedTouches"in b?Array.from(b.changedTouches).map(function(b){return new Q(b)}):[new Q(b)],g=[],f=y(f);try{var d=function(){var b=a.value,e=c.currentPointers.findIndex(function(a){return a.id===b.id});if(0>e)return"continue";g.push(b);c.currentPointers[e]=b};for(f.s();!(a=f.n()).done;)d()}catch(t){f.e(t)}finally{f.f()}c._moveCallback(e,c.currentPointers.slice(),b)};this._triggerPointerEnd=function(b,a){var e=c.currentPointers.findIndex(function(a){return a.id===b.id});return!(0>e)&&(c.currentPointers.splice(e,1),c.startPointers.splice(e,1),c._endCallback(b,a),!0)};this._pointerEnd=function(b){0<b.buttons&&0!==b.button||c._triggerPointerEnd(new Q(b),b)&&(window.removeEventListener("mousemove",c._move,{passive:!1}),window.removeEventListener("mouseup",c._pointerEnd,{passive:!1}))};this._touchEnd=function(b){for(var a=0,e=Array.from(b.changedTouches||[]);a<e.length;a++)c._triggerPointerEnd(new Q(e[a]),b)};this._startCallback=e;this._moveCallback=f;this._endCallback=b;this._element.addEventListener("mousedown",this._pointerStart,{passive:!1});this._element.addEventListener("touchstart",this._touchStart,{passive:!1});this._element.addEventListener("touchmove",this._move,{passive:!1});this._element.addEventListener("touchend",this._touchEnd);this._element.addEventListener("touchcancel",this._touchEnd)}return C(d,[{key:"stop",value:function(){this._element.removeEventListener("mousedown",this._pointerStart,{passive:!1});this._element.removeEventListener("touchstart",this._touchStart,{passive:!1});this._element.removeEventListener("touchmove",this._move,{passive:!1});this._element.removeEventListener("touchend",this._touchEnd);this._element.removeEventListener("touchcancel",this._touchEnd);window.removeEventListener("mousemove",this._move);window.removeEventListener("mouseup",this._pointerEnd)}},{key:"_triggerPointerStart",value:function(a,c){return!!this._startCallback(a,c)&&(this.currentPointers.push(a),this.startPointers.push(a),!0)}}]),d}(),sa=function(d,a){return d.split(".").reduce(function(a,b){return a&&a[b]},a)},E=function(){function d(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};B(this,d);this.options=D(!0,{},a);this.plugins=[];this.events={};for(var a=0,c=["on","once"];a<c.length;a++)for(var b=c[a],e=0,f=Object.entries(this.options[b]||{});e<f.length;e++)this[b].apply(this,u(f[e]))}return C(d,[{key:"option",value:function(a,c){a=String(a);var b=sa(a,this.options);if("function"==typeof b){for(var e,f=arguments.length,g=Array(2<f?f-2:0),k=2;k<f;k++)g[k-2]=arguments[k];b=(e=b).call.apply(e,[this,this].concat(g))}return void 0===b?c:b}},{key:"localize",value:function(a){var c=this,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return a=(a=String(a).replace(/\{\{(\w+).?(\w+)?\}\}/g,function(a,f,g){var e="";g?e=c.option("".concat(f[0]+f.toLowerCase().substring(1),".l10n.").concat(g)):f&&(e=c.option("l10n.".concat(f)));e||(e=a);for(a=0;a<b.length;a++)e=e.split(b[a][0]).join(b[a][1]);return e})).replace(/\{\{(.*)\}\}/,function(b,a){return a})}},{key:"on",value:function(a,c){var b=this;if(P(a)){for(var e=0,f=Object.entries(a);e<f.length;e++)this.on.apply(this,u(f[e]));return this}return String(a).split(" ").forEach(function(a){a=b.events[a]=b.events[a]||[];-1==a.indexOf(c)&&a.push(c)}),this}},{key:"once",value:function(a,c){var b=this;if(P(a)){for(var e=0,f=Object.entries(a);e<f.length;e++)this.once.apply(this,u(f[e]));return this}return String(a).split(" ").forEach(function(a){var e=function m(){b.off(a,m);for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];c.call.apply(c,[b,b].concat(f))};e._=c;b.on(a,e)}),this}},{key:"off",value:function(a,c){var b=this;if(!P(a))return a.split(" ").forEach(function(a){a=b.events[a];if(!a||!a.length)return b;for(var e=-1,f=0,g=a.length;f<g;f++){var d=a[f];if(d&&(d===c||d._===c)){e=f;break}}-1!=e&&a.splice(e,1)}),this;for(var e=0,f=Object.entries(a);e<f.length;e++)this.off.apply(this,u(f[e]))}},{key:"trigger",value:function(a){for(var c=arguments.length,b=Array(1<c?c-1:0),e=1;e<c;e++)b[e-1]=arguments[e];var f,c=y(u(this.events[a]||[]).slice());try{for(c.s();!(f=c.n()).done;){var g=f.value;if(g&&!1===g.call.apply(g,[this,this].concat(b)))return!1}}catch(m){c.e(m)}finally{c.f()}var k;f=y(u(this.events["*"]||[]).slice());try{for(f.s();!(k=f.n()).done;){var d=k.value;if(d&&!1===d.call.apply(d,[this,a,this].concat(b)))return!1}}catch(m){f.e(m)}finally{f.f()}return!0}},{key:"attachPlugins",value:function(a){var c={},b=0;for(a=Object.entries(a||{});b<a.length;b++){var e=L(a[b],2),f=e[0],e=e[1];!1===this.options[f]||this.plugins[f]||(this.options[f]=D({},e.defaults||{},this.options[f]),c[f]=new e(this))}b=0;for(a=Object.entries(c);b<a.length;b++)f=L(a[b],2),f[0],f[1].attach(this);return this.plugins=Object.assign({},this.plugins,c),this}},{key:"detachPlugins",value:function(){for(var a in this.plugins){var c=void 0;(c=this.plugins[a])&&"function"==typeof c.detach&&c.detach(this)}return this.plugins={},this}}]),d}(),ta={touch:!0,zoom:!0,pinchToZoom:!0,panOnlyZoomed:!1,lockAxis:!1,friction:.64,decelFriction:.88,zoomFriction:.74,bounceForce:.2,baseScale:1,minScale:1,maxScale:2,step:.5,textSelection:!1,click:"toggleZoom",wheel:"zoom",wheelFactor:42,wheelLimit:5,draggableClass:"is-draggable",draggingClass:"is-dragging",ratio:1},S=function(d){function a(b){var e;e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};B(this,a);(e=c.call(this,D(!0,{},ta,e))).state="init";e.$container=b;for(var f=0,g=["onLoad","onWheel","onClick"];f<g.length;f++){var k=g[f];e[k]=e[k].bind(K(e))}return e.initLayout(),e.resetValues(),e.attachPlugins(a.Plugins),e.trigger("init"),e.updateMetrics(),e.attachEvents(),e.trigger("ready"),!1===e.option("centerOnStart")?e.state="ready":e.panTo({friction:0}),b.__Panzoom=K(e),e}Y(a,d);var c=aa(a);return C(a,[{key:"initLayout",value:function(){var b=this.$container;if(!(b instanceof HTMLElement))throw Error("Panzoom: Container not found");var a=this.option("content")||b.querySelector(".panzoom__content");if(!a)throw Error("Panzoom: Content not found");this.$content=a;var f,c=this.option("viewport")||b.querySelector(".panzoom__viewport");c||!1===this.option("wrapInner")||((c=document.createElement("div")).classList.add("panzoom__viewport"),(f=c).append.apply(f,u(b.childNodes)),b.appendChild(c));this.$viewport=c||a.parentNode}},{key:"resetValues",value:function(){this.updateRate=this.option("updateRate",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?250:24);this.container={width:0,height:0};this.viewport={width:0,height:0};this.content={origWidth:0,origHeight:0,width:0,height:0,x:this.option("x",0),y:this.option("y",0),scale:this.option("baseScale")};this.transform={x:0,y:0,scale:1};this.resetDragPosition()}},{key:"onLoad",value:function(b){this.updateMetrics();this.panTo({scale:this.option("baseScale"),friction:0});this.trigger("load",b)}},{key:"onClick",value:function(b){if(!(b.defaultPrevented||document.activeElement&&document.activeElement.closest("[contenteditable]")))if(!this.option("textSelection")||!window.getSelection().toString().length||b.target&&b.target.hasAttribute("data-fancybox-close")){var a=this.$content.getClientRects()[0];if("ready"!==this.state&&(this.dragPosition.midPoint||1<Math.abs(a.top-this.dragStart.rect.top)||1<Math.abs(a.left-this.dragStart.rect.left)))return b.preventDefault(),void b.stopPropagation();!1!==this.trigger("click",b)&&this.option("zoom")&&"toggleZoom"===this.option("click")&&(b.preventDefault(),b.stopPropagation(),this.zoomWithClick(b))}else b.stopPropagation()}},{key:"onWheel",value:function(b){!1!==this.trigger("wheel",b)&&this.option("zoom")&&this.option("wheel")&&this.zoomWithWheel(b)}},{key:"zoomWithWheel",value:function(b){void 0===this.changedDelta&&(this.changedDelta=0);var a=Math.max(-1,Math.min(1,-b.deltaY||-b.deltaX||b.wheelDelta||-b.detail)),f=this.content.scale,c=f*(100+a*this.option("wheelFactor"))/100;(0>a&&.01>Math.abs(f-this.option("minScale"))||0<a&&.01>Math.abs(f-this.option("maxScale"))?(this.changedDelta+=Math.abs(a),c=f):(this.changedDelta=0,c=Math.max(Math.min(c,this.option("maxScale")),this.option("minScale"))),this.changedDelta>this.option("wheelLimit")||(b.preventDefault(),c===f))||(a=this.$content.getBoundingClientRect(),this.zoomTo(c,{x:b.clientX-a.left,y:b.clientY-a.top}))}},{key:"zoomWithClick",value:function(b){var a=this.$content.getClientRects()[0];this.toggleZoom({x:b.clientX-a.left,y:b.clientY-a.top})}},{key:"attachEvents",value:function(){var b=this;this.$content.addEventListener("load",this.onLoad);this.$container.addEventListener("wheel",this.onWheel,{passive:!1});this.$container.addEventListener("click",this.onClick,{passive:!1});this.initObserver();var a=new ra(this.$container,{start:function(e,c){if(!b.option("touch")||0>b.velocity.scale)return!1;var f=c.composedPath()[0];if(!a.currentPointers.length){if(-1!=="BUTTON TEXTAREA OPTION INPUT SELECT VIDEO".split(" ").indexOf(f.nodeName))return!1;var g;if(g=b.option("textSelection"))a:{g=e.clientX;for(var d=e.clientY,n=f.childNodes,p=document.createRange(),t=0;t<n.length;t++){var x=n[t];if(x.nodeType===Node.TEXT_NODE){p.selectNodeContents(x);var G=p.getBoundingClientRect();if(g>=G.left&&d>=G.top&&g<=G.right&&d<=G.bottom){g=x;break a}}}g=!1}if(g)return!1}return!ea(f)&&!1!==b.trigger("touchStart",c)&&("mousedown"===c.type&&c.preventDefault(),b.state="pointerdown",b.resetDragPosition(),b.dragPosition.midPoint=null,b.dragPosition.time=Date.now(),!0)},move:function(e,c,k){if("pointerdown"===b.state)if(!1!==b.trigger("touchMove",k)){if(!(2>c.length&&!0===b.option("panOnlyZoomed")&&b.content.width<=b.viewport.width&&b.content.height<=b.viewport.height&&b.transform.scale<=b.option("baseScale")||1<c.length&&(!b.option("zoom")||!1===b.option("pinchToZoom")))){var f=fa(e[0],e[1]),g=fa(c[0],c[1]),d=g.clientX-f.clientX,f=g.clientY-f.clientY;e=ia(e[0],e[1]);var p=ia(c[0],c[1]);b.dragOffset.x+=d;b.dragOffset.y+=f;b.dragOffset.scale*=e&&p?p/e:1;b.dragOffset.time=Date.now()-b.dragPosition.time;if((d=1===b.dragStart.scale&&b.option("lockAxis"))&&!b.lockAxis){if(6>Math.abs(b.dragOffset.x)&&6>Math.abs(b.dragOffset.y))return void k.preventDefault();f=Math.abs(180*Math.atan2(b.dragOffset.y,b.dragOffset.x)/Math.PI);b.lockAxis=45<f&&135>f?"y":"x"}if("xy"===d||"y"!==b.lockAxis)(k.preventDefault(),k.stopPropagation(),k.stopImmediatePropagation(),b.lockAxis&&(b.dragOffset["x"===b.lockAxis?"y":"x"]=0),b.$container.classList.add(b.option("draggingClass")),b.transform.scale===b.option("baseScale")&&"y"===b.lockAxis||(b.dragPosition.x=b.dragStart.x+b.dragOffset.x),b.transform.scale===b.option("baseScale")&&"x"===b.lockAxis||(b.dragPosition.y=b.dragStart.y+b.dragOffset.y),b.dragPosition.scale=b.dragStart.scale*b.dragOffset.scale,1<c.length)?(c=fa(a.startPointers[0],a.startPointers[1]),c=b.getZoomDelta(b.content.scale*b.dragOffset.scale,c.clientX-b.dragStart.rect.x,c.clientY-b.dragStart.rect.y),k=c.deltaY,b.dragPosition.x-=c.deltaX,b.dragPosition.y-=k,b.dragPosition.midPoint=g):b.setDragResistance(),b.transform={x:b.dragPosition.x,y:b.dragPosition.y,scale:b.dragPosition.scale},b.startAnimation()}}else k.preventDefault()},end:function(e,c){if("pointerdown"===b.state)if(b._dragOffset=A({},b.dragOffset),a.currentPointers.length)b.resetDragPosition();else if(b.state="decel",b.friction=b.option("decelFriction"),b.recalculateTransform(),b.$container.classList.remove(b.option("draggingClass")),!1!==b.trigger("touchEnd",c)&&"decel"===b.state){var f=b.option("minScale");if(b.transform.scale<f)b.zoomTo(f,{friction:.64});else if(f=b.option("maxScale"),.01<b.transform.scale-f){var g=b.dragPosition.midPoint||e,d=b.$content.getClientRects()[0];b.zoomTo(f,{friction:.64,x:g.clientX-d.left,y:g.clientY-d.top})}}}});this.pointerTracker=a}},{key:"initObserver",value:function(){var b=this;this.resizeObserver||(this.resizeObserver=new qa(function(){b.updateTimer||(b.updateTimer=setTimeout(function(){var a=b.$container.getBoundingClientRect();a.width&&a.height?((1<Math.abs(a.width-b.container.width)||1<Math.abs(a.height-b.container.height))&&(b.isAnimating()&&b.endAnimation(!0),b.updateMetrics(),b.panTo({x:b.content.x,y:b.content.y,scale:b.option("baseScale"),friction:0})),b.updateTimer=null):b.updateTimer=null},b.updateRate))}),this.resizeObserver.observe(this.$container))}},{key:"resetDragPosition",value:function(){this.lockAxis=null;this.friction=this.option("friction");this.velocity={x:0,y:0,scale:0};var b=this.content,a=b.x,f=b.y,b=b.scale;this.dragStart={rect:this.$content.getBoundingClientRect(),x:a,y:f,scale:b};this.dragPosition=A(A({},this.dragPosition),{},{x:a,y:f,scale:b});this.dragOffset={x:0,y:0,scale:1,time:0}}},{key:"updateMetrics",value:function(b){!0!==b&&this.trigger("beforeUpdate");var a=this.$container,f=this.$content,c=this.$viewport,d=f instanceof HTMLImageElement,h=this.option("zoom"),m=this.option("resizeParent",h),n=this.option("width"),p=this.option("height"),t=n||Math.max(parseFloat(f.naturalWidth||0),parseFloat(f.width&&f.width.baseVal&&f.width.baseVal.value||0),parseFloat(f.offsetWidth||0),parseFloat(f.scrollWidth||0)),x=p||function(b){return Math.max(parseFloat(b.naturalHeight||0),parseFloat(b.height&&b.height.baseVal&&b.height.baseVal.value||0),parseFloat(b.offsetHeight||0),parseFloat(b.scrollHeight||0))}(f);Object.assign(f.style,{width:n?"".concat(n,"px"):"",height:p?"".concat(p,"px"):"",maxWidth:"",maxHeight:""});m&&Object.assign(c.style,{width:"",height:""});var p=this.option("ratio"),n=t=v(t*p),p=x=v(x*p),G=f.getBoundingClientRect(),z=c.getBoundingClientRect(),a=c==a?z:a.getBoundingClientRect(),w=Math.max(c.offsetWidth,v(z.width)),z=Math.max(c.offsetHeight,v(z.height)),W=window.getComputedStyle(c);if(w-=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight),z-=parseFloat(W.paddingTop)+parseFloat(W.paddingBottom),this.viewport.width=w,this.viewport.height=z,h){if(.1<Math.abs(t-G.width)||.1<Math.abs(x-G.height))p=function(b,a,e,f){e=Math.min(e/b||0,f/a);return{width:b*e||0,height:a*e||0}}(t,x,Math.min(t,G.width),Math.min(x,G.height)),n=v(p.width),p=v(p.height);Object.assign(f.style,{width:"".concat(n,"px"),height:"".concat(p,"px"),transform:""})}if(m&&(Object.assign(c.style,{width:"".concat(n,"px"),height:"".concat(p,"px")}),this.viewport=A(A({},this.viewport),{},{width:n,height:p})),d&&h&&"function"!=typeof this.options.maxScale){var u=this.option("maxScale");this.options.maxScale=function(){return 0<this.content.origWidth&&0<this.content.fitWidth?this.content.origWidth/this.content.fitWidth:u}}this.content=A(A({},this.content),{},{origWidth:t,origHeight:x,fitWidth:n,fitHeight:p,width:n,height:p,scale:1,isZoomable:h});this.container={width:a.width,height:a.height};!0!==b&&this.trigger("afterUpdate")}},{key:"zoomIn",value:function(b){this.zoomTo(this.content.scale+(b||this.option("step")))}},{key:"zoomOut",value:function(b){this.zoomTo(this.content.scale-(b||this.option("step")))}},{key:"toggleZoom",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=this.option("maxScale"),f=this.option("baseScale");this.zoomTo(this.content.scale>f+.5*(a-f)?f:a,b)}},{key:"zoomTo",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.option("baseScale"),a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=a.x,f=void 0===f?null:f,a=a.y,a=void 0===a?null:a,b=Math.max(Math.min(b,this.option("maxScale")),this.option("minScale")),c=v(this.content.scale/(this.content.width/this.content.fitWidth),1E7);null===f&&(f=this.content.width*c*.5);null===a&&(a=this.content.height*c*.5);f=this.getZoomDelta(b,f,a);a=f.deltaY;f=this.content.x-f.deltaX;a=this.content.y-a;this.panTo({x:f,y:a,scale:b,friction:this.option("zoomFriction")})}},{key:"getZoomDelta",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=this.content.fitWidth*this.content.scale,d=this.content.fitHeight*this.content.scale;return{deltaX:(this.content.fitWidth*b-c)*(0<a&&c?a/c:0),deltaY:(this.content.fitHeight*b-d)*(0<f&&d?f/d:0)}}},{key:"panTo",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=b.x,a=void 0===a?this.content.x:a,f=b.y,f=void 0===f?this.content.y:f,c=b.scale,d=b.friction,d=void 0===d?this.option("friction"):d,b=b.ignoreBounds;if(c=c||this.content.scale||1,void 0===b||!b){var h=this.getBounds(c),b=h.boundX,h=h.boundY;b&&(a=Math.max(Math.min(a,b.to),b.from));h&&(f=Math.max(Math.min(f,h.to),h.from))}this.friction=d;this.transform=A(A({},this.transform),{},{x:a,y:f,scale:c});d?(this.state="panning",this.velocity={x:(1/this.friction-1)*(a-this.content.x),y:(1/this.friction-1)*(f-this.content.y),scale:(1/this.friction-1)*(c-this.content.scale)},this.startAnimation()):this.endAnimation()}},{key:"startAnimation",value:function(){var b=this;this.rAF?cancelAnimationFrame(this.rAF):this.trigger("startAnimation");this.rAF=requestAnimationFrame(function(){return b.animate()})}},{key:"animate",value:function(){var b=this;if(this.setEdgeForce(),this.setDragForce(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.velocity.scale*=this.friction,this.content.x+=this.velocity.x,this.content.y+=this.velocity.y,this.content.scale+=this.velocity.scale,this.isAnimating())this.setTransform();else if("pointerdown"!==this.state)return void this.endAnimation();this.rAF=requestAnimationFrame(function(){return b.animate()})}},{key:"getBounds",value:function(b){var a=this.boundX,f=this.boundY;if(void 0!==a&&void 0!==f)return{boundX:a,boundY:f};a={from:0,to:0};f={from:0,to:0};b=b||this.transform.scale;var c=this.content.fitWidth*b;b*=this.content.fitHeight;var d=this.viewport.width,h=this.viewport.height;c<d?(c=v(.5*(d-c)),a.from=c,a.to=c):a.from=v(d-c);b<h?(c=.5*(h-b),f.from=c,f.to=c):f.from=v(h-b);return{boundX:a,boundY:f}}},{key:"setEdgeForce",value:function(){if("decel"===this.state){var b,a,f,c,d=this.option("bounceForce"),h=this.getBounds(Math.max(this.transform.scale,this.content.scale)),m=h.boundX,h=h.boundY;if(m&&(b=this.content.x<m.from,a=this.content.x>m.to),h&&(f=this.content.y<h.from,c=this.content.y>h.to),b||a)b=((b?m.from:m.to)-this.content.x)*d,a=this.content.x+(this.velocity.x+b)/this.friction,a>=m.from&&a<=m.to&&(b+=this.velocity.x),this.velocity.x=b,this.recalculateTransform();if(f||c)f=((f?h.from:h.to)-this.content.y)*d,c=this.content.y+(f+this.velocity.y)/this.friction,c>=h.from&&c<=h.to&&(f+=this.velocity.y),this.velocity.y=f,this.recalculateTransform()}}},{key:"setDragResistance",value:function(){if("pointerdown"===this.state){var b,a,f,c,d=this.getBounds(this.dragPosition.scale),h=d.boundX,d=d.boundY;(h&&(b=this.dragPosition.x<h.from,a=this.dragPosition.x>h.to),d&&(f=this.dragPosition.y<d.from,c=this.dragPosition.y>d.to),!b&&!a||b&&a)||(b=b?h.from:h.to,this.dragPosition.x=b-.3*(b-this.dragPosition.x));!f&&!c||f&&c||(f=f?d.from:d.to,this.dragPosition.y=f-.3*(f-this.dragPosition.y))}}},{key:"setDragForce",value:function(){"pointerdown"===this.state&&(this.velocity.x=this.dragPosition.x-this.content.x,this.velocity.y=this.dragPosition.y-this.content.y,this.velocity.scale=this.dragPosition.scale-this.content.scale)}},{key:"recalculateTransform",value:function(){this.transform.x=this.content.x+this.velocity.x/(1/this.friction-1);this.transform.y=this.content.y+this.velocity.y/(1/this.friction-1);this.transform.scale=this.content.scale+this.velocity.scale/(1/this.friction-1)}},{key:"isAnimating",value:function(){return!(!this.friction||!(.05<Math.abs(this.velocity.x)||.05<Math.abs(this.velocity.y)||.05<Math.abs(this.velocity.scale)))}},{key:"setTransform",value:function(b){var a,c,g,d,h;(b?(a=v(this.transform.x),c=v(this.transform.y),g=this.transform.scale,this.content=A(A({},this.content),{},{x:a,y:c,scale:g})):(a=v(this.content.x),c=v(this.content.y),g=this.content.scale/(this.content.width/this.content.fitWidth),this.content=A(A({},this.content),{},{x:a,y:c})),this.trigger("beforeTransform"),a=v(this.content.x),c=v(this.content.y),b&&this.option("zoom"))?(d=v(this.content.fitWidth*g),h=v(this.content.fitHeight*g),this.content.width=d,this.content.height=h,this.transform=A(A({},this.transform),{},{width:d,height:h,scale:g}),Object.assign(this.$content.style,{width:"".concat(d,"px"),height:"".concat(h,"px"),maxWidth:"none",maxHeight:"none",transform:"translate3d(".concat(a,"px, ").concat(c,"px, 0) scale(1)")})):this.$content.style.transform="translate3d(".concat(a,"px, ").concat(c,"px, 0) scale(").concat(g,")");this.trigger("afterTransform")}},{key:"endAnimation",value:function(b){cancelAnimationFrame(this.rAF);this.rAF=null;this.velocity={x:0,y:0,scale:0};this.setTransform(!0);this.state="ready";this.handleCursor();!0!==b&&this.trigger("endAnimation")}},{key:"handleCursor",value:function(){var b=this.option("draggableClass");b&&this.option("touch")&&(1==this.option("panOnlyZoomed")&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")?this.$container.classList.remove(b):this.$container.classList.add(b))}},{key:"detachEvents",value:function(){this.$content.removeEventListener("load",this.onLoad);this.$container.removeEventListener("wheel",this.onWheel,{passive:!1});this.$container.removeEventListener("click",this.onClick,{passive:!1});this.pointerTracker&&(this.pointerTracker.stop(),this.pointerTracker=null);this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"destroy",value:function(){"destroy"!==this.state&&(this.state="destroy",clearTimeout(this.updateTimer),this.updateTimer=null,cancelAnimationFrame(this.rAF),this.rAF=null,this.detachEvents(),this.detachPlugins(),this.resetDragPosition())}}]),a}(E);S.version="4.0.31";S.Plugins={};var ja=function(d,a){var c=0;return function(){var b=(new Date).getTime();if(!(b-c<a))return c=b,d.apply(void 0,arguments)}},F=function(){function d(a){B(this,d);this.$next=this.$prev=this.$container=null;this.carousel=a;this.onRefresh=this.onRefresh.bind(this)}return C(d,[{key:"option",value:function(a){return this.carousel.option("Navigation.".concat(a))}},{key:"createButton",value:function(a){var c,b=this,e=document.createElement("button");e.setAttribute("title",this.carousel.localize("{{".concat(a.toUpperCase(),"}}")));var f=this.option("classNames.button")+" "+this.option("classNames.".concat(a));return(c=e.classList).add.apply(c,u(f.split(" "))),e.setAttribute("tabindex","0"),e.innerHTML=this.carousel.localize(this.option("".concat(a,"Tpl"))),e.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();b.carousel["slide".concat("next"===a?"Next":"Prev")]()}),e}},{key:"build",value:function(){var a;this.$container||(this.$container=document.createElement("div"),(a=this.$container.classList).add.apply(a,u(this.option("classNames.main").split(" "))),this.carousel.$container.appendChild(this.$container));this.$next||(this.$next=this.createButton("next"),this.$container.appendChild(this.$next));this.$prev||(this.$prev=this.createButton("prev"),this.$container.appendChild(this.$prev))}},{key:"onRefresh",value:function(){var a=this.carousel.pages.length;1>=a||1<a&&this.carousel.elemDimWidth<this.carousel.wrapDimWidth&&!Number.isInteger(this.carousel.option("slidesPerPage"))?this.cleanup():(this.build(),this.$prev.removeAttribute("disabled"),this.$next.removeAttribute("disabled"),this.carousel.option("infiniteX",this.carousel.option("infinite"))||(0>=this.carousel.page&&this.$prev.setAttribute("disabled",""),this.carousel.page>=a-1&&this.$next.setAttribute("disabled","")))}},{key:"cleanup",value:function(){this.$prev&&this.$prev.remove();this.$prev=null;this.$next&&this.$next.remove();this.$next=null;this.$container&&this.$container.remove();this.$container=null}},{key:"attach",value:function(){this.carousel.on("refresh change",this.onRefresh)}},{key:"detach",value:function(){this.carousel.off("refresh change",this.onRefresh);this.cleanup()}}]),d}();F.defaults={prevTpl:'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" tabindex\x3d"-1"\x3e\x3cpath d\x3d"M15 3l-9 9 9 9"/\x3e\x3c/svg\x3e',nextTpl:'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" tabindex\x3d"-1"\x3e\x3cpath d\x3d"M9 3l9 9-9 9"/\x3e\x3c/svg\x3e',classNames:{main:"carousel__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}};var M=function(){function d(a){B(this,d);this.carousel=a;this.$list=null;this.events={change:this.onChange.bind(this),refresh:this.onRefresh.bind(this)}}return C(d,[{key:"buildList",value:function(){var a=this;if(!(this.carousel.pages.length<this.carousel.option("Dots.minSlideCount"))){var c=document.createElement("ol");return c.classList.add("carousel__dots"),c.addEventListener("click",function(b){if("page"in b.target.dataset){b.preventDefault();b.stopPropagation();b=parseInt(b.target.dataset.page,10);var e=a.carousel;b!==e.page&&(3>e.pages.length&&e.option("infinite")?e[0==b?"slidePrev":"slideNext"]():e.slideTo(b))}}),this.$list=c,this.carousel.$container.appendChild(c),this.carousel.$container.classList.add("has-dots"),c}}},{key:"removeList",value:function(){this.$list&&(this.$list.parentNode.removeChild(this.$list),this.$list=null);this.carousel.$container.classList.remove("has-dots")}},{key:"rebuildDots",value:function(){var a=this,c=this.$list,c=!!c,b=this.carousel.pages.length;if(2>b)c&&this.removeList();else if(c||(c=this.buildList()),c=this.$list.children.length,c>b)for(;b<c;b++)this.$list.removeChild(this.$list.lastChild);else{for(var e=function(b){var e=document.createElement("li");e.classList.add("carousel__dot");e.dataset.page=b;e.setAttribute("role","button");e.setAttribute("tabindex","0");e.setAttribute("title",a.carousel.localize("{{GOTO}}",[["%d",b+1]]));e.addEventListener("keydown",function(b){var a;b=b.code;"Enter"===b||"NumpadEnter"===b?a=e:"ArrowRight"===b?a=e.nextSibling:"ArrowLeft"===b&&(a=e.previousSibling);a&&a.click()});a.$list.appendChild(e)};c<b;c++)e(c);this.setActiveDot()}}},{key:"setActiveDot",value:function(){if(this.$list){this.$list.childNodes.forEach(function(a){a.classList.remove("is-selected")});var a=this.$list.childNodes[this.carousel.page];a&&a.classList.add("is-selected")}}},{key:"onChange",value:function(){this.setActiveDot()}},{key:"onRefresh",value:function(){this.rebuildDots()}},{key:"attach",value:function(){this.carousel.on(this.events)}},{key:"detach",value:function(){this.removeList();this.carousel.off(this.events);this.carousel=null}}]),d}(),H=function(){function d(a){B(this,d);this.carousel=a;this.selectedIndex=null;this.friction=0;this.onNavReady=this.onNavReady.bind(this);this.onNavClick=this.onNavClick.bind(this);this.onNavCreateSlide=this.onNavCreateSlide.bind(this);this.onTargetChange=this.onTargetChange.bind(this)}return C(d,[{key:"addAsTargetFor",value:function(a){this.target=this.carousel;this.nav=a;this.attachEvents()}},{key:"addAsNavFor",value:function(a){this.target=a;this.nav=this.carousel;this.attachEvents()}},{key:"attachEvents",value:function(){this.nav.options.initialSlide=this.target.options.initialPage;this.nav.on("ready",this.onNavReady);this.nav.on("createSlide",this.onNavCreateSlide);this.nav.on("Panzoom.click",this.onNavClick);this.target.on("change",this.onTargetChange);this.target.on("Panzoom.afterUpdate",this.onTargetChange)}},{key:"onNavReady",value:function(){this.onTargetChange(!0)}},{key:"onNavClick",value:function(a,c,b){if(a=b.target.closest(".carousel__slide"))b.stopPropagation(),b=parseInt(a.dataset.index,10),a=this.target.findPageForSlide(b),this.target.page!==a&&this.target.slideTo(a,{friction:this.friction}),this.markSelectedSlide(b)}},{key:"onNavCreateSlide",value:function(a,c){c.index===this.selectedIndex&&this.markSelectedSlide(c.index)}},{key:"onTargetChange",value:function(){var a=this.target.pages[this.target.page].indexes[0],c=this.nav.findPageForSlide(a);this.nav.slideTo(c);this.markSelectedSlide(a)}},{key:"markSelectedSlide",value:function(a){this.selectedIndex=a;u(this.nav.slides).filter(function(a){return a.$el&&a.$el.classList.remove("is-nav-selected")});(a=this.nav.slides[a])&&a.$el&&a.$el.classList.add("is-nav-selected")}},{key:"attach",value:function(a){a=a.options.Sync;(a.target||a.nav)&&(a.target?this.addAsNavFor(a.target):a.nav&&this.addAsTargetFor(a.nav),this.friction=a.friction)}},{key:"detach",value:function(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("createSlide",this.onNavCreateSlide));this.target&&(this.target.off("Panzoom.afterUpdate",this.onTargetChange),this.target.off("change",this.onTargetChange))}}]),d}();H.defaults={friction:.92};var F={Navigation:F,Dots:M,Sync:H},ua={slides:[],preload:0,slidesPerPage:"auto",initialPage:null,initialSlide:null,friction:.92,center:!0,infinite:!0,fill:!0,dragFree:!1,prefix:"",classNames:{viewport:"carousel__viewport",track:"carousel__track",slide:"carousel__slide",slideSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}},T=function(d){function a(b){var e,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(B(this,a),f=D(!0,{},ua,f),(e=c.call(this,f)).state="init",e.$container=b,!(e.$container instanceof HTMLElement))throw Error("No root element provided");return e.slideNext=ja(e.slideNext.bind(K(e)),250),e.slidePrev=ja(e.slidePrev.bind(K(e)),250),e.init(),b.__Carousel=K(e),e}Y(a,d);var c=aa(a);return C(a,[{key:"init",value:function(){this.pages=[];this.prevPage=this.prevPageIndex=this.page=this.pageIndex=null;this.attachPlugins(a.Plugins);this.trigger("init");this.initLayout();this.initSlides();this.updateMetrics();this.$track&&this.pages.length&&(this.$track.style.transform="translate3d(".concat(-1*this.pages[this.page].left,"px, 0px, 0) scale(1)"));this.manageSlideVisiblity();this.initPanzoom();this.state="ready";this.trigger("ready")}},{key:"initLayout",value:function(){var b,a,c,g,d=this.option("prefix"),h=this.option("classNames");(this.$viewport=this.option("viewport")||this.$container.querySelector(".".concat(d).concat(h.viewport)),this.$viewport)||(this.$viewport=document.createElement("div"),(b=this.$viewport.classList).add.apply(b,u((d+h.viewport).split(" "))),(a=this.$viewport).append.apply(a,u(this.$container.childNodes)),this.$container.appendChild(this.$viewport));(this.$track=this.option("track")||this.$container.querySelector(".".concat(d).concat(h.track)),this.$track)||(this.$track=document.createElement("div"),(c=this.$track.classList).add.apply(c,u((d+h.track).split(" "))),(g=this.$track).append.apply(g,u(this.$viewport.childNodes)),this.$viewport.appendChild(this.$track))}},{key:"initSlides",value:function(){var b=this;this.slides=[];this.$viewport.querySelectorAll(".".concat(this.option("prefix")).concat(this.option("classNames.slide"))).forEach(function(a){a={$el:a,isDom:!0};b.slides.push(a);b.trigger("createSlide",a,b.slides.length)});Array.isArray(this.options.slides)&&(this.slides=D(!0,u(this.slides),this.options.slides))}},{key:"updateMetrics",value:function(){var b,a=this,c=0,g=[];this.slides.forEach(function(e,f){var d=e.$el,d=e.isDom||!b?a.getSlideMetrics(d):b;e.index=f;e.width=d;e.left=c;b=d;c+=d;g.push(f)});var d=Math.max(this.$track.offsetWidth,v(this.$track.getBoundingClientRect().width)),h=getComputedStyle(this.$track),d=d-(parseFloat(h.paddingLeft)+parseFloat(h.paddingRight));this.contentWidth=c;this.viewportWidth=d;var h=[],m=this.option("slidesPerPage");if(Number.isInteger(m)&&c>d)for(var n=0;n<this.slides.length;n+=m)h.push({indexes:g.slice(n,n+m),slides:this.slides.slice(n,n+m)});else for(var p=n=m=0;p<this.slides.length;p+=1){var t=this.slides[p];(!h.length||n+t.width>d)&&(h.push({indexes:[],slides:[]}),m=h.length-1,n=0);n+=t.width;h[m].indexes.push(p);h[m].slides.push(t)}var x=this.option("center"),G=this.option("fill");h.forEach(function(b,e){b.index=e;b.width=b.slides.reduce(function(b,a){return b+a.width},0);b.left=b.slides[0].left;x&&(b.left+=-.5*(d-b.width));G&&!a.option("infiniteX",a.option("infinite"))&&c>d&&(b.left=Math.max(b.left,0),b.left=Math.min(b.left,c-d))});var z,w=[];h.forEach(function(b){b=A({},b);z&&b.left===z.left?(z.width+=b.width,z.slides=[].concat(u(z.slides),u(b.slides)),z.indexes=[].concat(u(z.indexes),u(b.indexes))):(b.index=w.length,z=b,w.push(b))});this.pages=w;h=this.page;null===h&&(h=this.option("initialSlide"),h=null!==h?this.findPageForSlide(h):parseInt(this.option("initialPage",0),10)||0,w[h]||(h=w.length&&h>w.length?w[w.length-1].index:0),this.pageIndex=this.page=h);this.updatePanzoom();this.trigger("refresh")}},{key:"getSlideMetrics",value:function(b){if(!b){var a,c,g=this.slides[0];((b=document.createElement("div")).dataset.isTestEl=1,b.style.visibility="hidden",(a=b.classList).add.apply(a,u((this.option("prefix")+this.option("classNames.slide")).split(" "))),g.customClass)&&(c=b.classList).add.apply(c,u(g.customClass.split(" ")));this.$track.prepend(b)}a=Math.max(b.offsetWidth,v(b.getBoundingClientRect().width));c=b.currentStyle||window.getComputedStyle(b);return a=a+(parseFloat(c.marginLeft)||0)+(parseFloat(c.marginRight)||0),b.dataset.isTestEl&&b.remove(),a}},{key:"findPageForSlide",value:function(b){b=parseInt(b,10)||0;var a=this.pages.find(function(a){return-1<a.indexes.indexOf(b)});return a?a.index:null}},{key:"slideNext",value:function(){this.slideTo(this.pageIndex+1)}},{key:"slidePrev",value:function(){this.slideTo(this.pageIndex-1)}},{key:"slideTo",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=a.x,c=void 0===c?-1*this.setPage(b,!0):c,g=a.y,g=void 0===g?0:g,a=a.friction,a=void 0===a?this.option("friction"):a;this.Panzoom.content.x===c&&!this.Panzoom.velocity.x&&a||(this.Panzoom.panTo({x:c,y:g,friction:a,ignoreBounds:!0}),"ready"===this.state&&"ready"===this.Panzoom.state&&this.trigger("settle"))}},{key:"initPanzoom",value:function(){var b=this;this.Panzoom&&this.Panzoom.destroy();var a=D(!0,{},{content:this.$track,wrapInner:!1,resizeParent:!1,zoom:!1,click:!1,lockAxis:"x",x:this.pages.length?-1*this.pages[this.page].left:0,centerOnStart:!1,textSelection:function(){return b.option("textSelection",!1)},panOnlyZoomed:function(){return this.content.width<=this.viewport.width}},this.option("Panzoom"));this.Panzoom=new S(this.$container,a);this.Panzoom.on({"*":function(a){for(var e=arguments.length,c=Array(1<e?e-1:0),f=1;f<e;f++)c[f-1]=arguments[f];return b.trigger.apply(b,["Panzoom.".concat(a)].concat(c))},afterUpdate:function(){b.updatePage()},beforeTransform:this.onBeforeTransform.bind(this),touchEnd:this.onTouchEnd.bind(this),endAnimation:function(){b.trigger("settle")}});this.updateMetrics();this.manageSlideVisiblity()}},{key:"updatePanzoom",value:function(){this.Panzoom&&(this.Panzoom.content=A(A({},this.Panzoom.content),{},{fitWidth:this.contentWidth,origWidth:this.contentWidth,width:this.contentWidth}),1<this.pages.length&&this.option("infiniteX",this.option("infinite"))?this.Panzoom.boundX=null:this.pages.length&&(this.Panzoom.boundX={from:-1*this.pages[this.pages.length-1].left,to:-1*this.pages[0].left}),this.option("infiniteY",this.option("infinite"))?this.Panzoom.boundY=null:this.Panzoom.boundY={from:0,to:0},this.Panzoom.handleCursor())}},{key:"manageSlideVisiblity",value:function(){var b=this,a=this.contentWidth,c=this.viewportWidth,g=this.Panzoom?-1*this.Panzoom.content.x:this.pages.length?this.pages[this.page].left:0,d=this.option("preload"),h=this.option("infiniteX",this.option("infinite")),m=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-left")),n=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-right"));this.slides.forEach(function(e){var f,k,p=0;f=g-m;k=g+c+n;f-=d*(c+m+n);k+=d*(c+m+n);var t=e.left+e.width>f&&e.left<k;f=g+a-m;k=g+a+c+n;f-=d*(c+m+n);var x=h&&e.left+e.width>f&&e.left<k;f=g-a-m;k=g-a+c+n;f-=d*(c+m+n);f=h&&e.left+e.width>f&&e.left<k;x||t||f?(b.createSlideEl(e),t&&(p=0),x&&(p=-1),f&&(p=1),e.left+e.width>g&&e.left<=g+c+n&&(p=0)):b.removeSlideEl(e);e.hasDiff=p});var p=0,t=0;this.slides.forEach(function(b,e){var c=0;b.$el?(e!==p||b.hasDiff?c=t+b.hasDiff*a:t=0,b.$el.style.left=.1<Math.abs(c)?"".concat(t+b.hasDiff*a,"px"):"",p++):t+=b.width});this.markSelectedSlides()}},{key:"createSlideEl",value:function(b){var a;if(b){if(!b.$el){var c,g=document.createElement("div");(g.dataset.index=b.index,(a=g.classList).add.apply(a,u((this.option("prefix")+this.option("classNames.slide")).split(" "))),b.customClass)&&(c=g.classList).add.apply(c,u(b.customClass.split(" ")));b.html&&(g.innerHTML=b.html);var d=[];this.slides.forEach(function(b,a){b.$el&&d.push(a)});var h=b.index;a=null;d.length&&(a=d.reduce(function(b,a){return Math.abs(a-h)<Math.abs(b-h)?a:b}),a=this.slides[a]);return this.$track.insertBefore(g,a&&a.$el?a.index<b.index?a.$el.nextSibling:a.$el:null),b.$el=g,this.trigger("createSlide",b,h),b}(a=b.$el.dataset.index)&&parseInt(a,10)===b.index||(b.$el.dataset.index=b.index,b.$el.querySelectorAll("[data-lazy-srcset]").forEach(function(b){b.srcset=b.dataset.lazySrcset}),b.$el.querySelectorAll("[data-lazy-src]").forEach(function(b){var a=b.dataset.lazySrc;b instanceof HTMLImageElement?b.src=a:b.style.backgroundImage="url('".concat(a,"')")}),(g=b.$el.dataset.lazySrc)&&(b.$el.style.backgroundImage="url('".concat(g,"')")),b.state="ready")}}},{key:"removeSlideEl",value:function(b){b.$el&&!b.isDom&&(this.trigger("removeSlide",b),b.$el.remove(),b.$el=null)}},{key:"markSelectedSlides",value:function(){var b=this,a=this.option("classNames.slideSelected");this.slides.forEach(function(e,c){var f=e.$el;if(f){var d=b.pages[b.page];d&&d.indexes&&-1<d.indexes.indexOf(c)?(a&&!f.classList.contains(a)&&(f.classList.add(a),b.trigger("selectSlide",e)),f.removeAttribute("aria-hidden")):(a&&f.classList.contains(a)&&(f.classList.remove(a),b.trigger("unselectSlide",e)),f.setAttribute("aria-hidden",!0))}})}},{key:"updatePage",value:function(){this.updateMetrics();this.slideTo(this.page,{friction:0})}},{key:"onBeforeTransform",value:function(){this.option("infiniteX",this.option("infinite"))&&this.manageInfiniteTrack();this.manageSlideVisiblity()}},{key:"manageInfiniteTrack",value:function(){var b=this.contentWidth,a=this.viewportWidth;if(!(!this.option("infiniteX",this.option("infinite"))||2>this.pages.length||b<a)){var c=this.Panzoom,d=!1;return c.content.x<-1*(b-a)&&(c.content.x+=b,this.pageIndex-=this.pages.length,d=!0),c.content.x>a&&(c.content.x-=b,this.pageIndex+=this.pages.length,d=!0),d&&"pointerdown"===c.state&&c.resetDragPosition(),d}}},{key:"onTouchEnd",value:function(b,a){var c=this.option("dragFree");if(!c&&1<this.pages.length&&350>b.dragOffset.time&&1>Math.abs(b.dragOffset.y)&&5<Math.abs(b.dragOffset.x))this[0>b.dragOffset.x?"slideNext":"slidePrev"]();else c?(c=L(this.getPageFromPosition(-1*b.transform.x),2)[1],this.setPage(c)):this.slideToClosest()}},{key:"slideToClosest",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=this.getPageFromPosition(-1*this.Panzoom.content.x),a=L(a,2)[1];this.slideTo(a,b)}},{key:"getPageFromPosition",value:function(b){var a=this.pages.length;this.option("center")&&(b+=.5*this.viewportWidth);var c=Math.floor(b/this.contentWidth);b-=c*this.contentWidth;var d=this.slides.find(function(a){return a.left<=b&&a.left+a.width>b});return d?(d=this.findPageForSlide(d.index),[d,d+c*a]):[0,0]}},{key:"setPage",value:function(b,a){var c,e=parseInt(b,10)||0,d=this.page,h=this.pageIndex,m=this.pages.length,n=this.contentWidth;c=this.viewportWidth;if(b=(e%m+m)%m,this.option("infiniteX",this.option("infinite"))&&n>c){if(c=this.pages[b].left+(Math.floor(e/m)||0)*n,!0===a&&2<m){var p=-1*this.Panzoom.content.x,t=c-n,n=c+n,x=Math.abs(p-c),u=Math.abs(p-t),p=Math.abs(p-n);p<x&&p<=u?(c=n,e+=m):u<x&&u<p&&(c=t,e-=m)}}else b=e=Math.max(0,Math.min(e,m-1)),c=this.pages.length?this.pages[b].left:0;return this.page=b,this.pageIndex=e,null!==d&&b!==d&&(this.prevPage=d,this.prevPageIndex=h,this.trigger("change",b,d)),c}},{key:"destroy",value:function(){var b=this;this.state="destroy";this.slides.forEach(function(a){b.removeSlideEl(a)});this.slides=[];this.Panzoom.destroy();this.detachPlugins()}}]),a}(E);T.version="4.0.31";T.Plugins=F;var X=!("undefined"==typeof window||!window.document||!window.document.createElement),ga=null,ka='a[href] area[href] input:not([disabled]):not([type\x3d"hidden"]):not([aria-hidden]) select:not([disabled]):not([aria-hidden]) textarea:not([disabled]):not([aria-hidden]) button:not([disabled]):not([aria-hidden]) iframe object embed video audio [contenteditable] [tabindex]:not([tabindex^\x3d"-"]):not([disabled]):not([aria-hidden])'.split(" "),U=function(d){if(d&&X){null===ga&&document.createElement("div").focus({get preventScroll(){return ga=!0,!1}});try{if(d.setActive)d.setActive();else if(ga)d.focus({preventScroll:!0});else{var a=window.pageXOffset||document.body.scrollTop,c=window.pageYOffset||document.body.scrollLeft;d.focus();document.body.scrollTo({top:a,left:c,behavior:"auto"})}}catch(b){}}},F=function(){function d(a){B(this,d);this.fancybox=a;this.pendingUpdate=this.viewport=null;a=0;for(var c=["onReady","onResize","onTouchstart","onTouchmove"];a<c.length;a++){var b=c[a];this[b]=this[b].bind(this)}}return C(d,[{key:"onReady",value:function(){var a=window.visualViewport;a&&(this.viewport=a,this.startY=0,a.addEventListener("resize",this.onResize),this.updateViewport());window.addEventListener("touchstart",this.onTouchstart,{passive:!1});window.addEventListener("touchmove",this.onTouchmove,{passive:!1});window.addEventListener("wheel",this.onWheel,{passive:!1})}},{key:"onResize",value:function(){this.updateViewport()}},{key:"updateViewport",value:function(){var a=this.viewport,c=a.scale||1,b=this.fancybox.$container;if(b){var e="",f="",d="";.1<c-1&&(e="".concat(a.width*c,"px"),f="".concat(a.height*c,"px"),d="translate3d(".concat(a.offsetLeft,"px, ").concat(a.offsetTop,"px, 0) scale(").concat(1/c,")"));b.style.width=e;b.style.height=f;b.style.transform=d}}},{key:"onTouchstart",value:function(a){this.startY=a.touches?a.touches[0].screenY:a.screenY}},{key:"onTouchmove",value:function(a){var c=this.startY,b=window.innerWidth/window.document.documentElement.clientWidth;if(a.cancelable&&!(1<a.touches.length||1!==b))if(b=ea(a.composedPath()[0])){var e=window.getComputedStyle(b),f=parseInt(e.getPropertyValue("height"),10),e=a.touches?a.touches[0].screenY:a.screenY,f=c>=e&&b.scrollHeight-b.scrollTop===f;(c<=e&&0===b.scrollTop||f)&&a.preventDefault()}else a.preventDefault()}},{key:"onWheel",value:function(a){ea(a.composedPath()[0])||a.preventDefault()}},{key:"cleanup",value:function(){this.pendingUpdate&&(cancelAnimationFrame(this.pendingUpdate),this.pendingUpdate=null);var a=this.viewport;a&&(a.removeEventListener("resize",this.onResize),this.viewport=null);window.removeEventListener("touchstart",this.onTouchstart,!1);window.removeEventListener("touchmove",this.onTouchmove,!1);window.removeEventListener("wheel",this.onWheel,{passive:!1})}},{key:"attach",value:function(){this.fancybox.on("initLayout",this.onReady)}},{key:"detach",value:function(){this.fancybox.off("initLayout",this.onReady);this.cleanup()}}]),d}(),M=function(){function d(a){B(this,d);this.fancybox=a;this.$container=null;this.state="init";a=0;for(var c=["onPrepare","onClosing","onKeydown"];a<c.length;a++){var b=c[a];this[b]=this[b].bind(this)}this.events={prepare:this.onPrepare,closing:this.onClosing,keydown:this.onKeydown}}return C(d,[{key:"onPrepare",value:function(){this.getSlides().length<this.fancybox.option("Thumbs.minSlideCount")?this.state="disabled":!0===this.fancybox.option("Thumbs.autoStart")&&this.fancybox.Carousel.Panzoom.content.height>=this.fancybox.option("Thumbs.minScreenHeight")&&this.build()}},{key:"onClosing",value:function(){this.Carousel&&this.Carousel.Panzoom.detachEvents()}},{key:"onKeydown",value:function(a,c){c===a.option("Thumbs.key")&&this.toggle()}},{key:"build",value:function(){var a=this;if(!this.$container){var c=document.createElement("div");c.classList.add("fancybox__thumbs");this.fancybox.$carousel.parentNode.insertBefore(c,this.fancybox.$carousel.nextSibling);this.Carousel=new T(c,D(!0,{Dots:!1,Navigation:!1,Sync:{friction:0},infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,preload:1},this.fancybox.option("Thumbs.Carousel"),{Sync:{target:this.fancybox.Carousel},slides:this.getSlides()}));this.Carousel.Panzoom.on("wheel",function(b,c){c.preventDefault();a.fancybox[0>c.deltaY?"prev":"next"]()});this.$container=c;this.state="visible"}}},{key:"getSlides",value:function(){var a,c=[],b=y(this.fancybox.items);try{for(b.s();!(a=b.n()).done;){var e=a.value,f=e.thumb;f&&c.push({html:this.fancybox.option("Thumbs.tpl").replace(/\{\{src\}\}/gi,f),customClass:"has-thumb has-".concat(e.type||"image")})}}catch(g){b.e(g)}finally{b.f()}return c}},{key:"toggle",value:function(){"visible"===this.state?this.hide():"hidden"===this.state?this.show():this.build()}},{key:"show",value:function(){"hidden"===this.state&&(this.$container.style.display="",this.Carousel.Panzoom.attachEvents(),this.state="visible")}},{key:"hide",value:function(){"visible"===this.state&&(this.Carousel.Panzoom.detachEvents(),this.$container.style.display="none",this.state="hidden")}},{key:"cleanup",value:function(){this.Carousel&&(this.Carousel.destroy(),this.Carousel=null);this.$container&&(this.$container.remove(),this.$container=null);this.state="init"}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events);this.cleanup()}}]),d}();M.defaults={minSlideCount:2,minScreenHeight:500,autoStart:!0,key:"t",Carousel:{},tpl:'\x3cdiv class\x3d"fancybox__thumb" style\x3d"background-image:url(\'{{src}}\')"\x3e\x3c/div\x3e'};var la=function(d,a){for(var c=new URL(d),b=new URLSearchParams(c.search),c=new URLSearchParams,e=0,b=[].concat(u(b),u(Object.entries(a)));e<b.length;e++){var f=L(b[e],2),g=f[0],f=f[1];"t"===g?c.set("start",parseInt(f)):c.set(g,f)}c=c.toString();e=d.match(/#t=((.*)?\d+s)/);return e&&(c+="#t\x3d".concat(e[1])),c},ma={video:{autoplay:!0,ratio:16/9},youtube:{autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},vimeo:{hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},html5video:{tpl:'\x3cvideo class\x3d"fancybox__html5video" playsinline controls controlsList\x3d"nodownload" poster\x3d"{{poster}}"\x3e\n  \x3csource src\x3d"{{src}}" type\x3d"{{format}}" /\x3eSorry, your browser doesn\'t support embedded videos.\x3c/video\x3e',format:""}},H=function(){function d(a){B(this,d);this.fancybox=a;a=0;for(var c="onInit onReady onCreateSlide onRemoveSlide onSelectSlide onUnselectSlide onRefresh onMessage".split(" ");a<c.length;a++){var b=c[a];this[b]=this[b].bind(this)}this.events={init:this.onInit,ready:this.onReady,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide,"Carousel.selectSlide":this.onSelectSlide,"Carousel.unselectSlide":this.onUnselectSlide,"Carousel.refresh":this.onRefresh}}return C(d,[{key:"onInit",value:function(){var a,c=y(this.fancybox.items);try{for(c.s();!(a=c.n()).done;)this.processType(a.value)}catch(b){c.e(b)}finally{c.f()}}},{key:"processType",value:function(a){if(a.html)return a.src=a.html,a.type="html",void delete a.html;var c=a.src||"",b=a.type||this.fancybox.options.type,e;if(!c||"string"==typeof c){if(e=c.match(/(?:youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var b=la(c,this.fancybox.option("Html.youtube")),f=encodeURIComponent(e[1]);a.videoId=f;a.src="https://www.youtube-nocookie.com/embed/".concat(f,"?").concat(b);a.thumb=a.thumb||"https://i.ytimg.com/vi/".concat(f,"/mqdefault.jpg");a.vendor="youtube";b="video"}else(e=c.match(/^.+vimeo.com\/(?:\/)?([\d]+)(.*)?/))?(b=la(c,this.fancybox.option("Html.vimeo")),f=encodeURIComponent(e[1]),a.videoId=f,a.src="https://player.vimeo.com/video/".concat(f,"?").concat(b),a.vendor="vimeo",b="video"):(e=c.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(a.src="//maps.google.".concat(e[1],"/?ll\x3d").concat((e[2]?e[2]+"\x26z\x3d"+Math.floor(e[3])+(e[4]?e[4].replace(/^\//,"\x26"):""):e[4]+"").replace(/\?/,"\x26"),"\x26output\x3d").concat(e[4]&&0<e[4].indexOf("layer\x3dc")?"svembed":"embed"),b="map"):(e=c.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(a.src="//maps.google.".concat(e[1],"/maps?q\x3d").concat(e[2].replace("query\x3d","q\x3d").replace("api\x3d1",""),"\x26output\x3dembed"),b="map");b||("#"===c.charAt(0)?b="inline":(e=c.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(b="html5video",a.format=a.format||"video/"+("ogv"===e[1]?"ogg":e[1])):c.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?b="image":c.match(/\.(pdf)((\?|#).*)?$/i)&&(b="pdf"));a.type=b||this.fancybox.option("defaultType","image");"html5video"!==b&&"video"!==b||(a.video=D({},this.fancybox.option("Html.video"),a.video),a._width&&a._height?a.ratio=parseFloat(a._width)/parseFloat(a._height):a.ratio=a.ratio||a.video.ratio||ma.video.ratio)}}},{key:"onReady",value:function(){var a=this;this.fancybox.Carousel.slides.forEach(function(c){c.$el&&(a.setContent(c),c.index===a.fancybox.getSlide().index&&a.playVideo(c))})}},{key:"onCreateSlide",value:function(a,c,b){"ready"===this.fancybox.state&&this.setContent(b)}},{key:"loadInlineContent",value:function(a){var c;a.src instanceof HTMLElement?c=a.src:"string"==typeof a.src&&(c=a.src.split("#",2),c=document.getElementById(2===c.length&&""===c[0]?c[1]:c[0]));if(c){if("clone"===a.type||c.$placeHolder){var b=(c=c.cloneNode(!0)).getAttribute("id"),b=b?"".concat(b,"--clone"):"clone-".concat(this.fancybox.id,"-").concat(a.index);c.setAttribute("id",b)}else b=document.createElement("div"),b.classList.add("fancybox-placeholder"),c.parentNode.insertBefore(b,c),c.$placeHolder=b;this.fancybox.setContent(a,c)}else this.fancybox.setError(a,"{{ELEMENT_NOT_FOUND}}")}},{key:"loadAjaxContent",value:function(a){var c=this.fancybox,b=new XMLHttpRequest;c.showLoading(a);b.onreadystatechange=function(){b.readyState===XMLHttpRequest.DONE&&"ready"===c.state&&(c.hideLoading(a),200===b.status?c.setContent(a,b.responseText):c.setError(a,404===b.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};var e=a.ajax||null;b.open(e?"POST":"GET",a.src);b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.send(e);a.xhr=b}},{key:"loadIframeContent",value:function(a){var c=this,b=this.fancybox,e=document.createElement("iframe");if(e.className="fancybox__iframe",e.setAttribute("id","fancybox__iframe_".concat(b.id,"_").concat(a.index)),e.setAttribute("allow","autoplay; fullscreen"),e.setAttribute("scrolling","auto"),a.$iframe=e,"iframe"!==a.type||!1===a.preload)return e.setAttribute("src",a.src),this.fancybox.setContent(a,e),void this.resizeIframe(a);b.showLoading(a);var f=document.createElement("div");f.style.visibility="hidden";this.fancybox.setContent(a,f);f.appendChild(e);e.onerror=function(){b.setError(a,"{{IFRAME_ERROR}}")};e.onload=function(){b.hideLoading(a);var f=!1;e.isReady||(e.isReady=!0,f=!0);e.src.length&&(e.parentNode.style.visibility="",c.resizeIframe(a),f&&b.revealContent(a))};e.setAttribute("src",a.src)}},{key:"setAspectRatio",value:function(a){var c=a.$content,b=a.ratio;if(c){var e=a._width;a=a._height;if(b||e&&a){Object.assign(c.style,{width:e&&a?"100%":"",height:e&&a?"100%":"",maxWidth:"",maxHeight:""});var f=c.offsetWidth,d=c.offsetHeight;if(a=a||d,(e=e||f)>f||a>d)f=Math.min(f/e,d/a),e*=f,a*=f;.01<Math.abs(e/a-b)&&(b<e/a?e=a*b:a=e/b);Object.assign(c.style,{width:"".concat(e,"px"),height:"".concat(a,"px")})}}}},{key:"resizeIframe",value:function(a){var c=a.$iframe;if(c){var b=a._width||0,e=a._height||0;b&&e&&(a.autoSize=!1);var f=c.parentNode,d=f&&f.style;if(!1!==a.preload&&!1!==a.autoSize&&d)try{var k=window.getComputedStyle(f),h=parseFloat(k.paddingLeft)+parseFloat(k.paddingRight),m=parseFloat(k.paddingTop)+parseFloat(k.paddingBottom),n=c.contentWindow.document,p=n.getElementsByTagName("html")[0],t=n.body;d.width="";t.style.overflow="hidden";b=b||p.scrollWidth+h;d.width="".concat(b,"px");t.style.overflow="";d.flex="0 0 auto";d.height="".concat(t.scrollHeight,"px");e=p.scrollHeight+m}catch(x){}if(b||e)a={flex:"0 1 auto"},b&&(a.width="".concat(b,"px")),e&&(a.height="".concat(e,"px")),Object.assign(d,a)}}},{key:"onRefresh",value:function(a,c){var b=this;c.slides.forEach(function(a){a.$el&&(a.$iframe&&b.resizeIframe(a),a.ratio&&b.setAspectRatio(a))})}},{key:"setContent",value:function(a){if(a&&!a.isDom){switch(a.type){case "html":this.fancybox.setContent(a,a.src);break;case "html5video":this.fancybox.setContent(a,this.fancybox.option("Html.html5video.tpl").replace(/\{\{src\}\}/gi,a.src).replace("{{format}}",a.format||a.html5video&&a.html5video.format||"").replace("{{poster}}",a.poster||a.thumb||""));break;case "inline":case "clone":this.loadInlineContent(a);break;case "ajax":this.loadAjaxContent(a);break;case "pdf":case "video":case "map":a.preload=!1;case "iframe":this.loadIframeContent(a)}a.ratio&&this.setAspectRatio(a)}}},{key:"onSelectSlide",value:function(a,c,b){"ready"===a.state&&this.playVideo(b)}},{key:"playVideo",value:function(a){if("html5video"===a.type&&a.video.autoplay)try{var c=a.$el.querySelector("video");if(c){var b=c.play();void 0!==b&&b.then(function(){})["catch"](function(b){c.muted=!0;c.play()})}}catch(e){}"video"===a.type&&a.$iframe&&a.$iframe.contentWindow&&!function f(){if("done"===a.state&&a.$iframe&&a.$iframe.contentWindow){var b;if(a.$iframe.isReady)return a.video&&a.video.autoplay&&(b="youtube"==a.vendor?{event:"command",func:"playVideo"}:{method:"play",value:"true"}),void(b&&a.$iframe.contentWindow.postMessage(JSON.stringify(b),"*"));"youtube"===a.vendor&&(b={event:"listening",id:a.$iframe.getAttribute("id")},a.$iframe.contentWindow.postMessage(JSON.stringify(b),"*"))}a.poller=setTimeout(f,250)}()}},{key:"onUnselectSlide",value:function(a,c,b){if("html5video"!==b.type)a=!1,"vimeo"==b.vendor?a={method:"pause",value:"true"}:"youtube"===b.vendor&&(a={event:"command",func:"pauseVideo"}),a&&b.$iframe&&b.$iframe.contentWindow&&b.$iframe.contentWindow.postMessage(JSON.stringify(a),"*"),clearTimeout(b.poller);else try{b.$el.querySelector("video").pause()}catch(e){}}},{key:"onRemoveSlide",value:function(a,c,b){b.xhr&&(b.xhr.abort(),b.xhr=null);b.$iframe&&(b.$iframe.onload=b.$iframe.onerror=null,b.$iframe.src="//about:blank",b.$iframe=null);a=b.$content;"inline"===b.type&&a&&(a.classList.remove("fancybox__content"),"none"!==a.style.display&&(a.style.display="none"));b.$closeButton&&(b.$closeButton.remove(),b.$closeButton=null);(b=a&&a.$placeHolder)&&(b.parentNode.insertBefore(a,b),b.remove(),a.$placeHolder=null)}},{key:"onMessage",value:function(a){try{var c=JSON.parse(a.data);if("https://player.vimeo.com"===a.origin){if("ready"===c.event){var b,e=y(document.getElementsByClassName("fancybox__iframe"));try{for(e.s();!(b=e.n()).done;){var f=b.value;f.contentWindow===a.source&&(f.isReady=1)}}catch(g){e.e(g)}finally{e.f()}}}else"https://www.youtube-nocookie.com"===a.origin&&"onReady"===c.event&&(document.getElementById(c.id).isReady=1)}catch(g){}}},{key:"attach",value:function(){this.fancybox.on(this.events);window.addEventListener("message",this.onMessage,!1)}},{key:"detach",value:function(){this.fancybox.off(this.events);window.removeEventListener("message",this.onMessage,!1)}}]),d}();H.defaults=ma;var na=function(){function d(a){B(this,d);this.fancybox=a;a=0;for(var c="onReady onClosing onDone onPageChange onCreateSlide onRemoveSlide onImageStatusChange".split(" ");a<c.length;a++){var b=c[a];this[b]=this[b].bind(this)}this.events={ready:this.onReady,closing:this.onClosing,done:this.onDone,"Carousel.change":this.onPageChange,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide}}return C(d,[{key:"onReady",value:function(){var a=this;this.fancybox.Carousel.slides.forEach(function(c){c.$el&&a.setContent(c)})}},{key:"onDone",value:function(a,c){this.handleCursor(c)}},{key:"onClosing",value:function(a){clearTimeout(this.clickTimer);this.clickTimer=null;a.Carousel.slides.forEach(function(a){a.$image&&(a.state="destroy");a.Panzoom&&a.Panzoom.detachEvents()});"closing"===this.fancybox.state&&this.canZoom(a.getSlide())&&this.zoomOut()}},{key:"onCreateSlide",value:function(a,c,b){"ready"===this.fancybox.state&&this.setContent(b)}},{key:"onRemoveSlide",value:function(a,c,b){b.$image&&(b.$el.classList.remove(a.option("Image.canZoomInClass")),b.$image.remove(),b.$image=null);b.Panzoom&&(b.Panzoom.destroy(),b.Panzoom=null);b.$el&&b.$el.dataset&&delete b.$el.dataset.imageFit}},{key:"setContent",value:function(a){var c=this;if(!(a.isDom||a.html||a.type&&"image"!==a.type||a.$image)){a.type="image";a.state="loading";var b=document.createElement("div");b.style.visibility="hidden";var e=document.createElement("img");e.addEventListener("load",function(b){b.stopImmediatePropagation();c.onImageStatusChange(a)});e.addEventListener("error",function(){c.onImageStatusChange(a)});e.src=a.src;e.alt="";e.draggable=!1;e.classList.add("fancybox__image");a.srcset&&e.setAttribute("srcset",a.srcset);a.sizes&&e.setAttribute("sizes",a.sizes);a.$image=e;var f=this.fancybox.option("Image.wrap");if(f){var d=document.createElement("div");d.classList.add("string"==typeof f?f:"fancybox__image-wrap");d.appendChild(e);b.appendChild(d);a.$wrap=d}else b.appendChild(e);a.$el.dataset.imageFit=this.fancybox.option("Image.fit");this.fancybox.setContent(a,b);e.complete||e.error?this.onImageStatusChange(a):this.fancybox.showLoading(a)}}},{key:"onImageStatusChange",value:function(a){var c=this,b=a.$image;b&&"loading"===a.state&&(b.complete&&b.naturalWidth&&b.naturalHeight?(this.fancybox.hideLoading(a),"contain"===this.fancybox.option("Image.fit")&&this.initSlidePanzoom(a),a.$el.addEventListener("wheel",function(b){return c.onWheel(a,b)},{passive:!1}),a.$content.addEventListener("click",function(b){return c.onClick(a,b)},{passive:!1}),this.revealContent(a)):this.fancybox.setError(a,"{{IMAGE_ERROR}}"))}},{key:"initSlidePanzoom",value:function(a){var c=this;a.Panzoom||(a.Panzoom=new S(a.$el,D(!0,this.fancybox.option("Image.Panzoom",{}),{viewport:a.$wrap,content:a.$image,width:a._width,height:a._height,wrapInner:!1,textSelection:!0,touch:this.fancybox.option("Image.touch"),panOnlyZoomed:!0,click:!1,wheel:!1})),a.Panzoom.on("startAnimation",function(){c.fancybox.trigger("Image.startAnimation",a)}),a.Panzoom.on("endAnimation",function(){"zoomIn"===a.state&&c.fancybox.done(a);c.handleCursor(a);c.fancybox.trigger("Image.endAnimation",a)}),a.Panzoom.on("afterUpdate",function(){c.handleCursor(a);c.fancybox.trigger("Image.afterUpdate",a)}))}},{key:"revealContent",value:function(a){null===this.fancybox.Carousel.prevPage&&a.index===this.fancybox.options.startIndex&&this.canZoom(a)?this.zoomIn():this.fancybox.revealContent(a)}},{key:"getZoomInfo",value:function(a){var c=a.$thumb.getBoundingClientRect(),b=c.width,e=c.height,f=a.$content.getBoundingClientRect();a=f.width;var d=f.height,k=f.top-c.top,c=f.left-c.left,f=this.fancybox.option("Image.zoomOpacity");return"auto"===f&&(f=.1<Math.abs(b/e-a/d)),{top:k,left:c,scale:a&&b?b/a:1,opacity:f}}},{key:"canZoom",value:function(a){var c=this.fancybox,b=c.$container;if(window.visualViewport&&1!==window.visualViewport.scale||a.Panzoom&&!a.Panzoom.content.width||!c.option("Image.zoom")||"contain"!==c.option("Image.fit"))return!1;c=a.$thumb;if(!c||"loading"===a.state)return!1;b.classList.add("fancybox__no-click");var e=c.getBoundingClientRect();this.fancybox.option("Image.ignoreCoveredThumbnail")?(a=document.elementFromPoint(e.left+1,e.top+1)===c,c=document.elementFromPoint(e.right-1,e.bottom-1)===c,c=a&&c):c=document.elementFromPoint(e.left+.5*e.width,e.top+.5*e.height)===c;return b.classList.remove("fancybox__no-click"),c}},{key:"zoomIn",value:function(){var a=this.fancybox,c=a.getSlide(),b=c.Panzoom,e=this.getZoomInfo(c),f=e.top,d=e.left,k=e.scale,e=e.opacity;a.trigger("reveal",c);b.panTo({x:-1*d,y:-1*f,scale:k,friction:0,ignoreBounds:!0});c.$content.style.visibility="";c.state="zoomIn";!0===e&&b.on("afterTransform",function(b){"zoomIn"!==c.state&&"zoomOut"!==c.state||(b.$content.style.opacity=Math.min(1,1-(1-b.content.scale)/(1-k)))});b.panTo({x:0,y:0,scale:1,friction:this.fancybox.option("Image.zoomFriction")})}},{key:"zoomOut",value:function(){var a=this,c=this.fancybox,b=c.getSlide(),e=b.Panzoom;if(e){b.state="zoomOut";c.state="customClosing";b.$caption&&(b.$caption.style.visibility="hidden");var f=this.fancybox.option("Image.zoomFriction"),d=function(c){var d=a.getZoomInfo(b),g=d.top,k=d.left,p=d.scale,d=d.opacity;c||d||(f*=.82);e.panTo({x:-1*k,y:-1*g,scale:p,friction:f,ignoreBounds:!0});f*=.98};window.addEventListener("scroll",d);e.once("endAnimation",function(){window.removeEventListener("scroll",d);c.destroy()});d()}}},{key:"handleCursor",value:function(a){if("image"===a.type&&a.$el){var c=a.Panzoom,b=this.fancybox.option("Image.click",!1,a),e=this.fancybox.option("Image.touch");a=a.$el.classList;var f=this.fancybox.option("Image.canZoomInClass"),d=this.fancybox.option("Image.canZoomOutClass");(a.remove(d),a.remove(f),c&&"toggleZoom"===b)?c&&1===c.content.scale&&.01<c.option("maxScale")-c.content.scale?a.add(f):1<c.content.scale&&!e&&a.add(d):"close"===b&&a.add(d)}}},{key:"onWheel",value:function(a,c){if("ready"===this.fancybox.state&&!1!==this.fancybox.trigger("Image.wheel",c))switch(this.fancybox.option("Image.wheel")){case "zoom":"done"===a.state&&a.Panzoom&&a.Panzoom.zoomWithWheel(c);break;case "close":this.fancybox.close();break;case "slide":this.fancybox[0>c.deltaY?"prev":"next"]()}}},{key:"onClick",value:function(a,c){var b=this;if("ready"===this.fancybox.state){var e=a.Panzoom;if(!e||!e.dragPosition.midPoint&&0===e.dragOffset.x&&0===e.dragOffset.y&&1===e.dragOffset.scale){if(this.fancybox.Carousel.Panzoom.lockAxis)return!1;var f=function(e){switch(e){case "toggleZoom":c.stopPropagation();a.Panzoom&&a.Panzoom.zoomWithClick(c);break;case "close":b.fancybox.close();break;case "next":c.stopPropagation(),b.fancybox.next()}},d=this.fancybox.option("Image.click");(e=this.fancybox.option("Image.doubleClick"))?this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null,f(e)):this.clickTimer=setTimeout(function(){b.clickTimer=null;f(d)},300):f(d)}}}},{key:"onPageChange",value:function(a,c){var b=a.getSlide();c.slides.forEach(function(a){a.Panzoom&&"done"===a.state&&a.index!==b.index&&a.Panzoom.panTo({x:0,y:0,scale:1,friction:.8})})}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events)}}]),d}();na.defaults={canZoomInClass:"can-zoom_in",canZoomOutClass:"can-zoom_out",zoom:!0,zoomOpacity:"auto",zoomFriction:.82,ignoreCoveredThumbnail:!1,touch:!0,click:"toggleZoom",doubleClick:null,wheel:"zoom",fit:"contain",wrap:!1,Panzoom:{ratio:1}};var va=function(){function d(a){B(this,d);this.fancybox=a;a=0;for(var c=["onChange","onClosing"];a<c.length;a++){var b=c[a];this[b]=this[b].bind(this)}this.events={initCarousel:this.onChange,"Carousel.change":this.onChange,closing:this.onClosing};this.hasCreatedHistory=!1;this.origHash="";this.timer=null}return C(d,[{key:"onChange",value:function(a){var c=this,b=a.Carousel;this.timer&&clearTimeout(this.timer);var e=null===b.prevPage,f=a.getSlide(),d=(new URL(document.URL)).hash,k=!1;if(f.slug)k="#"+f.slug;else{var h=f.$trigger&&f.$trigger.dataset;(a=a.option("slug")||h&&h.fancybox)&&a.length&&"true"!==a&&(k="#"+a+(1<b.slides.length?"-"+(f.index+1):""))}e&&(this.origHash=d!==k?d:"");k&&d!==k&&(this.timer=setTimeout(function(){try{window.history[e?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+k),e&&(c.hasCreatedHistory=!0)}catch(m){}},300))}},{key:"onClosing",value:function(){if(this.timer&&clearTimeout(this.timer),!0!==this.hasSilentClose)try{return void window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash||""))}catch(a){}}},{key:"attach",value:function(a){a.on(this.events)}},{key:"detach",value:function(a){a.off(this.events)}}],[{key:"startFromUrl",value:function(){var a=d.Fancybox;if(a&&!a.getInstance()&&!1!==a.defaults.Hash){var c=d.getParsedURL(),b=c.hash,e=c.slug,c=c.index;e&&(b=document.querySelector('[data-slug\x3d"'.concat(b,'"]')),(b&&b.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),a.getInstance())||(a=document.querySelectorAll('[data-fancybox\x3d"'.concat(e,'"]')),a.length&&(null===c&&1===a.length?b=a[0]:c&&(b=a[c-1]),b&&b.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))))}}},{key:"onHashChange",value:function(){var a=d.getParsedURL(),c=a.slug,a=a.index,b=d.Fancybox;if((b=b&&b.getInstance())&&b.plugins.Hash){if(c){var e=b.Carousel;if(c===b.option("slug"))return e.slideTo(a-1);var f,g=y(e.slides);try{for(g.s();!(f=g.n()).done;){var k=f.value;if(k.slug&&k.slug===c)return e.slideTo(k.index)}}catch(h){g.e(h)}finally{g.f()}f=b.getSlide();if((f=f.$trigger&&f.$trigger.dataset)&&f.fancybox===c)return e.slideTo(a-1)}b.plugins.Hash.hasSilentClose=!0;b.close()}d.startFromUrl()}},{key:"create",value:function(a){function c(){window.addEventListener("hashchange",d.onHashChange,!1);d.startFromUrl()}d.Fancybox=a;X&&window.requestAnimationFrame(function(){/complete|interactive|loaded/.test(document.readyState)?c():document.addEventListener("DOMContentLoaded",c)})}},{key:"destroy",value:function(){window.removeEventListener("hashchange",d.onHashChange,!1)}},{key:"getParsedURL",value:function(){var a=window.location.hash.substr(1),c=a.split("-"),b=1<c.length&&/^\+?\d+$/.test(c[c.length-1])&&parseInt(c.pop(-1),10)||null;return{hash:a,slug:c.join("-"),index:b}}}]),d}(),I={pageXOffset:0,pageYOffset:0,element:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement},activate:function(d){I.pageXOffset=window.pageXOffset;I.pageYOffset=window.pageYOffset;d.requestFullscreen?d.requestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.msRequestFullscreen&&d.msRequestFullscreen()},deactivate:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},wa=function(){function d(a){B(this,d);this.fancybox=a;this.active=!1;this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}return C(d,[{key:"isActive",value:function(){return this.active}},{key:"setTimer",value:function(){var a=this;if(this.active&&!this.timer){var c=this.fancybox.option("slideshow.delay",3E3);this.timer=setTimeout(function(){a.timer=null;a.fancybox.option("infinite")||a.fancybox.getSlide().index!==a.fancybox.Carousel.slides.length-1?a.fancybox.next():a.fancybox.jumpTo(0,{friction:0})},c);var b=this.$progress;b||((b=document.createElement("div")).classList.add("fancybox__progress"),this.fancybox.$carousel.parentNode.insertBefore(b,this.fancybox.$carousel),this.$progress=b,b.offsetHeight);b.style.transitionDuration="".concat(c,"ms");b.style.transform="scaleX(1)"}}},{key:"clearTimer",value:function(){clearTimeout(this.timer);this.timer=null;this.$progress&&(this.$progress.style.transitionDuration="",this.$progress.style.transform="",this.$progress.offsetHeight)}},{key:"activate",value:function(){this.active||(this.active=!0,this.fancybox.$container.classList.add("has-slideshow"),"done"===this.fancybox.getSlide().state&&this.setTimer(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}},{key:"handleVisibilityChange",value:function(){this.deactivate()}},{key:"deactivate",value:function(){this.active=!1;this.clearTimer();this.fancybox.$container.classList.remove("has-slideshow");document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}},{key:"toggle",value:function(){this.active?this.deactivate():1<this.fancybox.Carousel.slides.length&&this.activate()}}]),d}(),oa=function(){function d(a){var c=this;B(this,d);this.fancybox=a;this.$container=null;this.state="init";a=0;for(var b="onInit onPrepare onDone onKeydown onClosing onChange onSettle onRefresh".split(" ");a<b.length;a++){var e=b[a];this[e]=this[e].bind(this)}this.events={init:this.onInit,prepare:this.onPrepare,done:this.onDone,keydown:this.onKeydown,closing:this.onClosing,"Carousel.change":this.onChange,"Carousel.settle":this.onSettle,"Carousel.Panzoom.touchStart":function(){return c.onRefresh()},"Image.startAnimation":function(b,a){return c.onRefresh(a)},"Image.afterUpdate":function(b,a){return c.onRefresh(a)}}}return C(d,[{key:"onInit",value:function(){if(this.fancybox.option("Toolbar.autoEnable")){var a,c=!1,b=y(this.fancybox.items);try{for(b.s();!(a=b.n()).done;)if("image"===a.value.type){c=!0;break}}catch(g){b.e(g)}finally{b.f()}if(!c)return void(this.state="disabled")}var e;a=y(this.fancybox.option("Toolbar.display"));try{for(a.s();!(e=a.n()).done;){var f=e.value;if("close"===(P(f)?f.id:f)){this.fancybox.options.closeButton=!1;break}}}catch(g){a.e(g)}finally{a.f()}}},{key:"onPrepare",value:function(){var a=this.fancybox;if("init"===this.state&&(this.build(),this.update(),this.Slideshow=new wa(a),!a.Carousel.prevPage&&(a.option("slideshow.autoStart")&&this.Slideshow.activate(),a.option("fullscreen.autoStart")&&!I.element())))try{I.activate(a.$container)}catch(c){}}},{key:"onFsChange",value:function(){window.scrollTo(I.pageXOffset,I.pageYOffset)}},{key:"onSettle",value:function(){var a=this.fancybox,c=this.Slideshow;c&&c.isActive()&&(a.getSlide().index!==a.Carousel.slides.length-1||a.option("infinite")?"done"===a.getSlide().state&&c.setTimer():c.deactivate())}},{key:"onChange",value:function(){this.update();this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer()}},{key:"onDone",value:function(a,c){var b=this.Slideshow;c.index===a.getSlide().index&&(this.update(),b&&b.isActive()&&(a.option("infinite")||c.index!==a.Carousel.slides.length-1?b.setTimer():b.deactivate()))}},{key:"onRefresh",value:function(a){a&&a.index!==this.fancybox.getSlide().index||(this.update(),!this.Slideshow||!this.Slideshow.isActive()||a&&"done"!==a.state||this.Slideshow.deactivate())}},{key:"onKeydown",value:function(a,c,b){" "===c&&this.Slideshow&&(this.Slideshow.toggle(),b.preventDefault())}},{key:"onClosing",value:function(){this.Slideshow&&this.Slideshow.deactivate();document.removeEventListener("fullscreenchange",this.onFsChange)}},{key:"createElement",value:function(a){var c,b;("div"===a.type?c=document.createElement("div"):(c=document.createElement("link"===a.type?"a":"button")).classList.add("carousel__button"),c.innerHTML=a.html,c.setAttribute("tabindex",a.tabindex||0),a["class"])&&(b=c.classList).add.apply(b,u(a["class"].split(" ")));for(var e in a.attr)c.setAttribute(e,a.attr[e]);a.label&&c.setAttribute("title",this.fancybox.localize("{{".concat(a.label,"}}")));a.click&&c.addEventListener("click",a.click.bind(this));"prev"===a.id&&c.setAttribute("data-fancybox-prev","");"next"===a.id&&c.setAttribute("data-fancybox-next","");a=c.querySelector("svg");return a&&(a.setAttribute("role","img"),a.setAttribute("tabindex","-1"),a.setAttribute("xmlns","http://www.w3.org/2000/svg")),c}},{key:"build",value:function(){var a=this;this.cleanup();var c,b=this.fancybox.option("Toolbar.items"),e=[{position:"left",items:[]},{position:"center",items:[]},{position:"right",items:[]}],f=this.fancybox.plugins.Thumbs,d=y(this.fancybox.option("Toolbar.display"));try{var k=function(){var d=c.value,g=void 0,h=void 0;if(P(d)?(g=d.id,h=D({},b[g],d)):h=b[g=d],["counter","next","prev","slideshow"].includes(g)&&2>a.fancybox.items.length)return"continue";if("fullscreen"===g){if(!document.fullscreenEnabled||window.fullScreen)return"continue";document.addEventListener("fullscreenchange",a.onFsChange)}if("thumbs"===g&&(!f||"disabled"===f.state)||!h)return"continue";var k=h.position||"right";(d=e.find(function(b){return b.position===k}))&&d.items.push(h)};for(d.s();!(c=d.n()).done;)k()}catch(p){d.e(p)}finally{d.f()}d=document.createElement("div");d.classList.add("fancybox__toolbar");for(k=0;k<e.length;k++){var h=e[k];if(h.items.length){var m=document.createElement("div");m.classList.add("fancybox__toolbar__items");m.classList.add("fancybox__toolbar__items--".concat(h.position));var n,h=y(h.items);try{for(h.s();!(n=h.n()).done;)m.appendChild(this.createElement(n.value))}catch(p){h.e(p)}finally{h.f()}d.appendChild(m)}}this.fancybox.$carousel.parentNode.insertBefore(d,this.fancybox.$carousel);this.$container=d}},{key:"update",value:function(){var a,c=this.fancybox.getSlide(),b=c.index,e=this.fancybox.items.length,f=c.downloadSrc||("image"!==c.type||c.error?null:c.src),d=y(this.fancybox.$container.querySelectorAll("a.fancybox__button--download"));try{for(d.s();!(a=d.n()).done;){var k=a.value;f?(k.removeAttribute("disabled"),k.removeAttribute("tabindex"),k.setAttribute("href",f),k.setAttribute("download",f),k.setAttribute("target","_blank")):(k.setAttribute("disabled",""),k.setAttribute("tabindex",-1),k.removeAttribute("href"),k.removeAttribute("download"))}}catch(w){d.e(w)}finally{d.f()}var h;a=(a=c.Panzoom)&&a.option("maxScale")>a.option("baseScale");f=y(this.fancybox.$container.querySelectorAll(".fancybox__button--zoom"));try{for(f.s();!(h=f.n()).done;){var m=h.value;a?m.removeAttribute("disabled"):m.setAttribute("disabled","")}}catch(w){f.e(w)}finally{f.f()}var n;h=y(this.fancybox.$container.querySelectorAll("[data-fancybox-index]"));try{for(h.s();!(n=h.n()).done;)n.value.innerHTML=c.index+1}catch(w){h.e(w)}finally{h.f()}var p,c=y(this.fancybox.$container.querySelectorAll("[data-fancybox-count]"));try{for(c.s();!(p=c.n()).done;)p.value.innerHTML=e}catch(w){c.e(w)}finally{c.f()}if(!this.fancybox.option("infinite")){var t;p=y(this.fancybox.$container.querySelectorAll("[data-fancybox-prev]"));try{for(p.s();!(t=p.n()).done;){var u=t.value;0===b?u.setAttribute("disabled",""):u.removeAttribute("disabled")}}catch(w){p.e(w)}finally{p.f()}var v;t=y(this.fancybox.$container.querySelectorAll("[data-fancybox-next]"));try{for(t.s();!(v=t.n()).done;){var z=v.value;b===e-1?z.setAttribute("disabled",""):z.removeAttribute("disabled")}}catch(w){t.e(w)}finally{t.f()}}}},{key:"cleanup",value:function(){this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer();this.$container&&this.$container.remove();this.$container=null}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events);this.cleanup()}}]),d}();oa.defaults={display:"counter zoom slideshow fullscreen thumbs close".split(" "),autoEnable:!0,items:{counter:{position:"left",type:"div","class":"fancybox__counter",html:'\x3cspan data-fancybox-index\x3d""\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3d""\x3e\x3c/span\x3e',attr:{tabindex:-1}},prev:{type:"button","class":"fancybox__button--prev",label:"PREV",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M15 4l-8 8 8 8"/\x3e\x3c/svg\x3e',attr:{"data-fancybox-prev":""}},next:{type:"button","class":"fancybox__button--next",label:"NEXT",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M8 4l8 8-8 8"/\x3e\x3c/svg\x3e',attr:{"data-fancybox-next":""}},fullscreen:{type:"button","class":"fancybox__button--fullscreen",label:"TOGGLE_FULLSCREEN",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\n                \x3cg\x3e\x3cpath d\x3d"M3 8 V3h5"\x3e\x3c/path\x3e\x3cpath d\x3d"M21 8V3h-5"\x3e\x3c/path\x3e\x3cpath d\x3d"M8 21H3v-5"\x3e\x3c/path\x3e\x3cpath d\x3d"M16 21h5v-5"\x3e\x3c/path\x3e\x3c/g\x3e\n                \x3cg\x3e\x3cpath d\x3d"M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5"/\x3e\x3c/g\x3e\n            \x3c/svg\x3e',click:function(d){d.preventDefault();I.element()?I.deactivate():I.activate(this.fancybox.$container)}},slideshow:{type:"button","class":"fancybox__button--slideshow",label:"TOGGLE_SLIDESHOW",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\n                \x3cg\x3e\x3cpath d\x3d"M6 4v16"/\x3e\x3cpath d\x3d"M20 12L6 20"/\x3e\x3cpath d\x3d"M20 12L6 4"/\x3e\x3c/g\x3e\n                \x3cg\x3e\x3cpath d\x3d"M7 4v15M17 4v15"/\x3e\x3c/g\x3e\n            \x3c/svg\x3e',click:function(d){d.preventDefault();this.Slideshow.toggle()}},zoom:{type:"button","class":"fancybox__button--zoom",label:"TOGGLE_ZOOM",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3ccircle cx\x3d"10" cy\x3d"10" r\x3d"7"\x3e\x3c/circle\x3e\x3cpath d\x3d"M16 16 L21 21"\x3e\x3c/svg\x3e',click:function(d){d.preventDefault();(d=this.fancybox.getSlide().Panzoom)&&d.toggleZoom()}},download:{type:"link",label:"DOWNLOAD","class":"fancybox__button--download",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17"/\x3e\x3c/svg\x3e',click:function(d){d.stopPropagation()}},thumbs:{type:"button",label:"TOGGLE_THUMBS","class":"fancybox__button--thumbs",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3ccircle cx\x3d"4" cy\x3d"4" r\x3d"1" /\x3e\x3ccircle cx\x3d"12" cy\x3d"4" r\x3d"1" transform\x3d"rotate(90 12 4)"/\x3e\x3ccircle cx\x3d"20" cy\x3d"4" r\x3d"1" transform\x3d"rotate(90 20 4)"/\x3e\x3ccircle cx\x3d"4" cy\x3d"12" r\x3d"1" transform\x3d"rotate(90 4 12)"/\x3e\x3ccircle cx\x3d"12" cy\x3d"12" r\x3d"1" transform\x3d"rotate(90 12 12)"/\x3e\x3ccircle cx\x3d"20" cy\x3d"12" r\x3d"1" transform\x3d"rotate(90 20 12)"/\x3e\x3ccircle cx\x3d"4" cy\x3d"20" r\x3d"1" transform\x3d"rotate(90 4 20)"/\x3e\x3ccircle cx\x3d"12" cy\x3d"20" r\x3d"1" transform\x3d"rotate(90 12 20)"/\x3e\x3ccircle cx\x3d"20" cy\x3d"20" r\x3d"1" transform\x3d"rotate(90 20 20)"/\x3e\x3c/svg\x3e',click:function(d){d.stopPropagation();(d=this.fancybox.plugins.Thumbs)&&d.toggle()}},close:{type:"button",label:"CLOSE","class":"fancybox__button--close",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M20 20L4 4m16 0L4 20"\x3e\x3c/path\x3e\x3c/svg\x3e',attr:{"data-fancybox-close":"",tabindex:0}}}};var F={ScrollLock:F,Thumbs:M,Html:H,Toolbar:oa,Image:na,Hash:va},pa={startIndex:0,preload:1,infinite:!0,showClass:"fancybox-zoomInUp",hideClass:"fancybox-fadeOut",animated:!0,hideScrollbar:!0,parentEl:null,mainClass:null,autoFocus:!0,trapFocus:!0,placeFocusBack:!0,click:"close",closeButton:"inside",dragToClose:!0,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"next",ArrowDown:"prev",ArrowRight:"next",ArrowLeft:"prev"},template:{closeButton:'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" tabindex\x3d"-1"\x3e\x3cpath d\x3d"M20 20L4 4m16 0L4 20"/\x3e\x3c/svg\x3e',spinner:'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"50" height\x3d"50" viewBox\x3d"25 25 50 50" tabindex\x3d"-1"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"20"/\x3e\x3c/svg\x3e',main:null},l10n:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}},V=new Map,xa=0,E=function(d){function a(b){var e,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return B(this,a),b=b.map(function(b){return b.width&&(b._width=b.width),b.height&&(b._height=b.height),b}),(e=c.call(this,D(!0,{},pa,f))).bindHandlers(),e.state="init",e.setItems(b),e.attachPlugins(a.Plugins),e.trigger("init"),!0===e.option("hideScrollbar")&&e.hideScrollbar(),e.initLayout(),e.initCarousel(),e.attachEvents(),V.set(e.id,K(e)),e.trigger("prepare"),e.state="ready",e.trigger("ready"),e.$container.setAttribute("aria-hidden","false"),e.option("trapFocus")&&e.focus(),e}Y(a,d);var c=aa(a);return C(a,[{key:"option",value:function(b){for(var c,f=this.getSlide(),f=f?f[b]:void 0,d=arguments.length,k=Array(1<d?d-1:0),h=1;h<d;h++)k[h-1]=arguments[h];if(void 0!==f){var m;"function"==typeof f&&(f=(m=f).call.apply(m,[this,this].concat(k)));return f}return(c=ba(O(a.prototype),"option",this)).call.apply(c,[this,b].concat(k))}},{key:"bindHandlers",value:function(){for(var b=0,a="onMousedown onKeydown onClick onFocus onCreateSlide onSettle onTouchMove onTouchEnd onTransform".split(" ");b<a.length;b++){var c=a[b];this[c]=this[c].bind(this)}}},{key:"attachEvents",value:function(){document.addEventListener("mousedown",this.onMousedown);document.addEventListener("keydown",this.onKeydown,!0);this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0);this.$container.addEventListener("click",this.onClick)}},{key:"detachEvents",value:function(){document.removeEventListener("mousedown",this.onMousedown);document.removeEventListener("keydown",this.onKeydown,!0);document.removeEventListener("focus",this.onFocus,!0);this.$container.removeEventListener("click",this.onClick)}},{key:"initLayout",value:function(){var b=this;this.$root=this.option("parentEl")||document.body;var a=this.option("template.main");a&&(this.$root.insertAdjacentHTML("beforeend",this.localize(a)),this.$container=this.$root.querySelector(".fancybox__container"));this.$container||(this.$container=document.createElement("div"),this.$root.appendChild(this.$container));this.$container.onscroll=function(){return b.$container.scrollLeft=0,!1};Object.entries({"class":"fancybox__container",role:"dialog",tabIndex:"-1","aria-modal":"true","aria-hidden":"true","aria-label":this.localize("{{MODAL}}")}).forEach(function(a){var c;return(c=b.$container).setAttribute.apply(c,u(a))});this.option("animated")&&this.$container.classList.add("is-animated");(this.$backdrop=this.$container.querySelector(".fancybox__backdrop"))||(this.$backdrop=document.createElement("div"),this.$backdrop.classList.add("fancybox__backdrop"),this.$container.appendChild(this.$backdrop));(this.$carousel=this.$container.querySelector(".fancybox__carousel"))||(this.$carousel=document.createElement("div"),this.$carousel.classList.add("fancybox__carousel"),this.$container.appendChild(this.$carousel));this.$container.Fancybox=this;(this.id=this.$container.getAttribute("id"))||(this.id=this.options.id||++xa,this.$container.setAttribute("id","fancybox-"+this.id));var c;(a=this.option("mainClass"))&&(c=this.$container.classList).add.apply(c,u(a.split(" ")));return document.documentElement.classList.add("with-fancybox"),this.trigger("initLayout"),this}},{key:"setItems",value:function(b){var a,c=[];b=y(b);try{for(b.s();!(a=b.n()).done;){var d=a.value,k=d.$trigger;if(k){var h=k.dataset||{};d.src=h.src||k.getAttribute("href")||d.src;d.type=h.type||d.type;!d.src&&k instanceof HTMLImageElement&&(d.src=k.currentSrc||d.$trigger.src)}var m=d.$thumb;if(!m){var n=d.$trigger&&d.$trigger.origTarget;n&&(m=n instanceof HTMLImageElement?n:n.querySelector("img:not([aria-hidden])"));!m&&d.$trigger&&(m=d.$trigger instanceof HTMLImageElement?d.$trigger:d.$trigger.querySelector("img:not([aria-hidden])"))}d.$thumb=m||null;var p=d.thumb;!p&&m&&!(p=m.currentSrc||m.src)&&m.dataset&&(p=m.dataset.lazySrc||m.dataset.src);p||"image"!==d.type||(p=d.src);d.thumb=p||null;d.caption=d.caption||"";c.push(d)}}catch(t){b.e(t)}finally{b.f()}this.items=c}},{key:"initCarousel",value:function(){var b=this;return this.Carousel=new T(this.$carousel,D(!0,{},{prefix:"",classNames:{viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"},textSelection:!0,preload:this.option("preload"),friction:.88,slides:this.items,initialPage:this.options.startIndex,slidesPerPage:1,infiniteX:this.option("infinite"),infiniteY:!0,l10n:this.option("l10n"),Dots:!1,Navigation:{classNames:{main:"fancybox__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}},Panzoom:{textSelection:!0,panOnlyZoomed:function(){return b.Carousel&&b.Carousel.pages&&2>b.Carousel.pages.length&&!b.option("dragToClose")},lockAxis:function(){if(b.Carousel){var a="x";return b.option("dragToClose")&&(a+="y"),a}}},on:{"*":function(a){for(var c=arguments.length,e=Array(1<c?c-1:0),d=1;d<c;d++)e[d-1]=arguments[d];return b.trigger.apply(b,["Carousel.".concat(a)].concat(e))},init:function(a){return b.Carousel=a},createSlide:this.onCreateSlide,settle:this.onSettle}},this.option("Carousel"))),this.option("dragToClose")&&this.Carousel.Panzoom.on({touchMove:this.onTouchMove,afterTransform:this.onTransform,touchEnd:this.onTouchEnd}),this.trigger("initCarousel"),this}},{key:"onCreateSlide",value:function(b,a){var c=a.caption||"";if("function"==typeof this.options.caption&&(c=this.options.caption.call(this,this,this.Carousel,a)),"string"==typeof c&&c.length){var e=document.createElement("div"),d="fancybox__caption_".concat(this.id,"_").concat(a.index);e.className="fancybox__caption";e.innerHTML=c;e.setAttribute("id",d);a.$caption=a.$el.appendChild(e);a.$el.classList.add("has-caption");a.$el.setAttribute("aria-labelledby",d)}}},{key:"onSettle",value:function(){this.option("autoFocus")&&this.focus()}},{key:"onFocus",value:function(b){this.isTopmost()&&this.focus(b)}},{key:"onClick",value:function(b){if(!b.defaultPrevented){var c=b.composedPath()[0];if(c.matches("[data-fancybox-close]"))return b.preventDefault(),void a.close(!1,b);if(c.matches("[data-fancybox-next]"))return b.preventDefault(),void a.next();if(c.matches("[data-fancybox-prev]"))return b.preventDefault(),void a.prev();var d=document.activeElement;if(d){if(d.closest("[contenteditable]"))return;c.matches(ka)||d.blur()}if(!c.closest(".fancybox__content")&&!getSelection().toString().length&&!1!==this.trigger("click",b))switch(this.option("click")){case "close":this.close();break;case "next":this.next()}}}},{key:"onTouchMove",value:function(){var b=this.getSlide().Panzoom;return!b||1===b.content.scale}},{key:"onTouchEnd",value:function(b){var a=b.dragOffset.y;150<=Math.abs(a)||35<=Math.abs(a)&&350>b.dragOffset.time?(this.option("hideClass")&&(this.getSlide().hideClass="fancybox-throwOut".concat(0>b.content.y?"Up":"Down")),this.close()):"y"===b.lockAxis&&b.panTo({y:0})}},{key:"onTransform",value:function(b){if(this.$backdrop){var a=Math.abs(b.content.y);b=1>a?"":Math.max(.33,Math.min(1,1-a/b.content.fitHeight*1.5));this.$container.style.setProperty("--fancybox-ts",b?"0s":"");this.$container.style.setProperty("--fancybox-opacity",b)}}},{key:"onMousedown",value:function(){"ready"===this.state&&document.body.classList.add("is-using-mouse")}},{key:"onKeydown",value:function(b){if(this.isTopmost()){document.body.classList.remove("is-using-mouse");var a=b.key,c=this.option("keyboard");if(c&&!b.ctrlKey&&!b.altKey&&!b.shiftKey){var d=b.composedPath()[0],k=document.activeElement&&document.activeElement.classList,k=k&&k.contains("carousel__button");("Escape"===a||k||!b.target.isContentEditable&&-1==="BUTTON TEXTAREA OPTION INPUT SELECT VIDEO".split(" ").indexOf(d.nodeName))&&!1!==this.trigger("keydown",a,b)&&(b=c[a],"function"==typeof this[b]&&this[b]())}}}},{key:"getSlide",value:function(){var b=this.Carousel;if(!b)return null;var a=null===b.page?b.option("initialPage"):b.page,b=b.pages||[];return b.length&&b[a]?b[a].slides[0]:null}},{key:"focus",value:function(b){if(!(a.ignoreFocusChange||-1<["init","closing","customClosing","destroy"].indexOf(this.state))){var c=this.$container,d=this.getSlide(),d="done"===d.state?d.$el:null;if(!d||!d.contains(document.activeElement)){b&&b.preventDefault();a.ignoreFocusChange=!0;for(var g,k=[],h=0,m=Array.from(c.querySelectorAll(ka));h<m.length;h++){var n=m[h],p=n.offsetParent,t=d&&d.contains(n),u=!this.Carousel.$viewport.contains(n);p&&(t||u)?(k.push(n),void 0!==n.dataset.origTabindex&&(n.tabIndex=n.dataset.origTabindex,n.removeAttribute("data-orig-tabindex")),(n.hasAttribute("autoFocus")||!g&&t&&!n.classList.contains("carousel__button"))&&(g=n)):(n.dataset.origTabindex=void 0===n.dataset.origTabindex?n.getAttribute("tabindex"):n.dataset.origTabindex,n.tabIndex=-1)}b?-1<k.indexOf(b.target)?this.lastFocus=b.target:this.lastFocus===c?U(k[k.length-1]):U(c):this.option("autoFocus")&&g?U(g):0>k.indexOf(document.activeElement)&&U(c);this.lastFocus=document.activeElement;a.ignoreFocusChange=!1}}}},{key:"hideScrollbar",value:function(){if(X){var b=window.innerWidth-document.documentElement.getBoundingClientRect().width,a=document.getElementById("fancybox-style-noscroll");a||0<b&&((a=document.createElement("style")).id="fancybox-style-noscroll",a.type="text/css",a.innerHTML=".compensate-for-scrollbar {padding-right: ".concat(b,"px;}"),document.getElementsByTagName("head")[0].appendChild(a),document.body.classList.add("compensate-for-scrollbar"))}}},{key:"revealScrollbar",value:function(){document.body.classList.remove("compensate-for-scrollbar");var b=document.getElementById("fancybox-style-noscroll");b&&b.remove()}},{key:"clearContent",value:function(b){this.Carousel.trigger("removeSlide",b);b.$content&&(b.$content.remove(),b.$content=null);b.$closeButton&&(b.$closeButton.remove(),b.$closeButton=null);b._className&&b.$el.classList.remove(b._className)}},{key:"setContent",value:function(b,a){var c,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=b.$el;if(a instanceof HTMLElement)-1<["img","iframe","video","audio"].indexOf(a.nodeName.toLowerCase())?(c=document.createElement("div")).appendChild(a):c=a;else{var h=document.createRange().createContextualFragment(a);(c=document.createElement("div")).appendChild(h)}if(b.filter&&!b.error&&(c=c.querySelector(b.filter)),c instanceof Element)return b._className="has-".concat(e.suffix||b.type||"unknown"),d.classList.add(b._className),c.classList.add("fancybox__content"),"none"!==c.style.display&&"none"!==getComputedStyle(c).getPropertyValue("display")||(c.style.display=b.display||this.option("defaultDisplay")||"flex"),b.id&&c.setAttribute("id",b.id),b.$content=c,d.prepend(c),this.manageCloseButton(b),"loading"!==b.state&&this.revealContent(b),c;this.setError(b,"{{ELEMENT_NOT_FOUND}}")}},{key:"manageCloseButton",value:function(b){var a=this,c=void 0===b.closeButton?this.option("closeButton"):b.closeButton;if(c&&("top"!==c||!this.$closeButton)){var d=document.createElement("button");d.classList.add("carousel__button","is-close");d.setAttribute("title",this.options.l10n.CLOSE);d.innerHTML=this.option("template.closeButton");d.addEventListener("click",function(b){return a.close(b)});"inside"===c?(b.$closeButton&&b.$closeButton.remove(),b.$closeButton=b.$content.appendChild(d)):this.$closeButton=this.$container.insertBefore(d,this.$container.firstChild)}}},{key:"revealContent",value:function(b){var a=this;this.trigger("reveal",b);b.$content.style.visibility="";var c=!1;b.error||"loading"===b.state||null!==this.Carousel.prevPage||b.index!==this.options.startIndex||(c=void 0===b.showClass?this.option("showClass"):b.showClass);c?(b.state="animating",this.animateCSS(b.$content,c,function(){a.done(b)})):this.done(b)}},{key:"animateCSS",value:function(b,a,c){(b&&b.dispatchEvent(new CustomEvent("animationend",{bubbles:!0,cancelable:!0})),b&&a)?(b.addEventListener("animationend",function k(e){e.currentTarget===this&&(b.removeEventListener("animationend",k),c&&c(),b.classList.remove(a))}),b.classList.add(a)):"function"==typeof c&&c()}},{key:"done",value:function(b){b.state="done";this.trigger("done",b);var a=this.getSlide();a&&b.index===a.index&&this.option("autoFocus")&&this.focus()}},{key:"setError",value:function(b,a){b.error=a;this.hideLoading(b);this.clearContent(b);var c=document.createElement("div");c.classList.add("fancybox-error");c.innerHTML=this.localize(a||"\x3cp\x3e{{ERROR}}\x3c/p\x3e");this.setContent(b,c,{suffix:"error"})}},{key:"showLoading",value:function(b){var a=this;b.state="loading";b.$el.classList.add("is-loading");var c=b.$el.querySelector(".fancybox__spinner");c||((c=document.createElement("div")).classList.add("fancybox__spinner"),c.innerHTML=this.option("template.spinner"),c.addEventListener("click",function(){a.Carousel.Panzoom.velocity||a.close()}),b.$el.prepend(c))}},{key:"hideLoading",value:function(b){var a=b.$el&&b.$el.querySelector(".fancybox__spinner");a&&(a.remove(),b.$el.classList.remove("is-loading"));"loading"===b.state&&(this.trigger("load",b),b.state="ready")}},{key:"next",value:function(){var b=this.Carousel;b&&1<b.pages.length&&b.slideNext()}},{key:"prev",value:function(){var b=this.Carousel;b&&1<b.pages.length&&b.slidePrev()}},{key:"jumpTo",value:function(){var b;this.Carousel&&(b=this.Carousel).slideTo.apply(b,arguments)}},{key:"isClosing",value:function(){return["closing","customClosing","destroy"].includes(this.state)}},{key:"isTopmost",value:function(){return a.getInstance().id==this.id}},{key:"close",value:function(b){var a=this;if(b&&b.preventDefault(),!this.isClosing()&&!1!==this.trigger("shouldClose",b)&&(this.state="closing",this.Carousel.Panzoom.destroy(),this.detachEvents(),this.trigger("closing",b),"destroy"!==this.state)){this.$container.setAttribute("aria-hidden","true");this.$container.classList.add("is-closing");var c=this.getSlide();if(this.Carousel.slides.forEach(function(b){b.$content&&b.index!==c.index&&a.Carousel.trigger("removeSlide",b)}),"closing"===this.state)b=void 0===c.hideClass?this.option("hideClass"):c.hideClass,this.animateCSS(c.$content,b,function(){a.destroy()},!0)}}},{key:"destroy",value:function(){if("destroy"!==this.state){this.state="destroy";this.trigger("destroy");var b=this.option("placeFocusBack")?this.option("triggerTarget",this.getSlide().$trigger):null;this.Carousel.destroy();this.detachPlugins();this.Carousel=null;this.options={};this.events={};this.$container.remove();this.$container=this.$backdrop=this.$carousel=null;b&&U(b);V["delete"](this.id);(b=a.getInstance())?b.focus():(document.documentElement.classList.remove("with-fancybox"),document.body.classList.remove("is-using-mouse"),this.revealScrollbar())}}}],[{key:"show",value:function(b){return new a(b,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"fromEvent",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(b.defaultPrevented||b.button&&0!==b.button||b.ctrlKey||b.metaKey||b.shiftKey)){var d,g,k,h=b.composedPath()[0],m=h;if((m.matches("[data-fancybox-trigger]")||(m=m.closest("[data-fancybox-trigger]")))&&(c.triggerTarget=m,d=m&&m.dataset&&m.dataset.fancyboxTrigger),d){d=document.querySelectorAll('[data-fancybox\x3d"'.concat(d,'"]'));var n=parseInt(m.dataset.fancyboxIndex,10)||0,m=d.length?d[n]:m}Array.from(a.openers.keys()).reverse().some(function(a){k=m||h;var c=!1;try{k instanceof Element&&("string"==typeof a||a instanceof String)&&(c=k.matches(a)||(k=k.closest(a)))}catch(x){}return!!c&&(b.preventDefault(),g=a,!0)});d=!1;g&&(c.event=b,c.target=k,k.origTarget=h,d=a.fromOpener(g,c),(c=a.getInstance())&&"ready"===c.state&&b.detail&&document.body.classList.add("is-using-mouse"));return d}}},{key:"fromOpener",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=function(a){for(var b=["false","0","no","null","undefined"],c=["true","1","yes"],d=Object.assign({},a.dataset),e={},f=0,d=Object.entries(d);f<d.length;f++){var g=L(d[f],2),h=g[0],g=g[1];if("fancybox"!==h)if("width"===h||"height"===h)e["_".concat(h)]=g;else if("string"==typeof g||g instanceof String)if(-1<b.indexOf(g))e[h]=!1;else if(-1<c.indexOf(e[h]))e[h]=!0;else try{e[h]=JSON.parse(g)}catch(ya){e[h]=g}else e[h]=g}return a instanceof Element&&(e.$trigger=a),e},g=[],k=c.startIndex||0,h=c.target||null,m=void 0!==(c=D({},c,a.openers.get(b))).groupAll&&c.groupAll,n=void 0===c.groupAttr?"data-fancybox":c.groupAttr,p=n&&h?h.getAttribute("".concat(n)):"";if(!h||p||m)g=c.root||(h?h.getRootNode():document.body),g=[].slice.call(g.querySelectorAll(b));if(h&&!m&&(g=p?g.filter(function(a){return a.getAttribute("".concat(n))===p}):[h]),!g.length)return!1;m=a.getInstance();return!(m&&-1<g.indexOf(m.options.$trigger))&&(k=h?g.indexOf(h):k,new a(g=g.map(d),D({},c,{startIndex:k,$trigger:h})))}},{key:"bind",value:function(b){function c(){document.body.addEventListener("click",a.fromEvent,!1)}var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};X&&(a.openers.size||(/complete|interactive|loaded/.test(document.readyState)?c():document.addEventListener("DOMContentLoaded",c)),a.openers.set(b,d))}},{key:"unbind",value:function(b){a.openers["delete"](b);a.openers.size||a.destroy()}},{key:"destroy",value:function(){for(var b;b=a.getInstance();)b.destroy();a.openers=new Map;document.body.removeEventListener("click",a.fromEvent,!1)}},{key:"getInstance",value:function(a){return a?V.get(a):Array.from(V.values()).reverse().find(function(a){return!a.isClosing()&&a})||null}},{key:"close",value:function(){var b=1<arguments.length?arguments[1]:void 0;if(0<arguments.length&&void 0!==arguments[0]&&!arguments[0]){var c=a.getInstance();c&&c.close(b)}else{var d=y(V.values());try{for(d.s();!(c=d.n()).done;)c.value.close(b)}catch(g){d.e(g)}finally{d.f()}}}},{key:"next",value:function(){var b=a.getInstance();b&&b.next()}},{key:"prev",value:function(){var b=a.getInstance();b&&b.prev()}}]),a}(E);E.version="4.0.31";E.defaults=pa;E.openers=new Map;E.Plugins=F;E.bind("[data-fancybox]");F=0;for(M=Object.entries(E.Plugins||{});F<M.length;F++)H=L(M[F],2),H[0],H=H[1],"function"==typeof H.create&&H.create(E);J.Carousel=T;J.Fancybox=E;J.Panzoom=S});