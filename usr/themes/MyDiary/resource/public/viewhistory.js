ViewHistory=function(){this.config={limit:10,storageKey:"viewHistory",primaryKey:"url"};this.cache={localStorage:null,userData:null,attr:null}};ViewHistory.prototype={init:function(a){this.config=a||this.config;var b=this;!window.localStorage&&(this.cache.userData=document.body)&&this.cache.userData.addBehavior&&this.cache.userData.addBehavior("#default#userdata")?(this.cache.userData.load(this.cache.attr="localStorage"),this.cache.localStorage={getItem:function(a){return b.cache.userData.getAttribute(a)},setItem:function(a,d){b.cache.userData.setAttribute(a,d);b.cache.userData.save(b.cache.attr)}}):this.cache.localStorage=window.localStorage},addHistory:function(a){for(var b=this.getHistories(),c=0,d=b.length;c<d;c++)if(a[this.config.primaryKey]&&b[c][this.config.primaryKey]&&a[this.config.primaryKey]===b[c][this.config.primaryKey]){b.splice(c,1);break}b.push(a);0<this.config.limit&&b.length>this.config.limit&&b.splice(0,1);a=JSON.stringify(b);this.cache.localStorage.setItem(this.config.storageKey,a)},getHistories:function(){var a=this.cache.localStorage.getItem(this.config.storageKey);return a?JSON.parse(a):[]}};function jl_viewHistory(a){if("undefined"!==typeof localStorage&&"undefined"!==typeof JSON){var b=new ViewHistory;b.init({limit:a.limit,storageKey:a.storageKey,primaryKey:a.primaryKey})}var c=document.getElementById(a.storageKey);if(b){if(b&&c){var d=b.getHistories(),g=document.createElement("ul");if(d&&0<d.length){for(var e=d.length-1;0<=e;e--){var h=d[e],k=document.createElement("li"),f=document.createElement("a");f.href=h.url;f.innerHTML=h.title;k.appendChild(f);g.appendChild(k)}c.appendChild(g)}}b&&a.addHistory&&(a={title:document.getElementsByClassName("cat_title_h1")[0].innerHTML,url:window.location.href.split("/#/")[0]},b.addHistory(a))}else c&&(c.style.display="none")};